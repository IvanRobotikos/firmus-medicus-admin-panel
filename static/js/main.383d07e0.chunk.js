(this["webpackJsonpfirmus-medicus"]=this["webpackJsonpfirmus-medicus"]||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(16),c=n.n(r),i=(n(150),n(151),n(77)),l=n(44),s=n(310),u=n(13),p=n(7),d=n(309),b=n(91),h=n(123),j=n(302),m=n(300),x=n(127),f=n.n(x),g=n(4),O=n(10),v=n.n(O),w=n(15),y="tables/GET_TABLES",C="tables/GET_TABLES_SUCCESS",k="tables/GET_TABLES_FAILED",E="tables/ADD_TABLE",T="tables/DELETE_TABLE",I="tables/DELETE_TABLE_SUCCESS",S="tables/DELETE_TABLE_FAILED",N="tables/SET_SELECTED_TABLE",_="tables/SET_BIG_IMAGE",B="tables/SET_TABLE_JUST_CREATED_FALSE",R="tables/REMOVE_BIG_IMAGE",L=n(65);n(271),n(270),n(158);L.a.initializeApp({apiKey:"AIzaSyBN83KPofzkMJ8I61kt8Fn8our5BSWfNjw",authDomain:"firmus-medicus-a254b.firebaseapp.com",projectId:"firmus-medicus-a254b",storageBucket:"firmus-medicus-a254b.appspot.com",messagingSenderId:"906887380621",appId:"1:906887380621:web:d9ab0a949265376084ecc4",measurementId:"G-506ZEGQVF1"});var P=L.a.firestore(),A=L.a.storage(),F=L.a.auth();function W(e){var t=[];t.push(function(e){return{tableId:e,rowIndex:0,cells:[M(0,0),M(0,1),M(0,2),M(0,3),D(4),D(5),D(6),M(0,7),M(0,8),M(0,9),M(0,10)]}}(e));for(var n=1;n<28;n++)t.push(U(n,e));return t}function U(e,t){return{tableId:t,rowIndex:e,cells:[M(e,0),M(e,1),M(e,2),M(e,3),M(e,4),M(e,5),M(e,6),M(e,7),M(e,8),M(e,9),M(e,10)]}}function M(e,t){return{type:"notype",rowIndex:e,columnIndex:t,color:"white",topBorder:"1",leftBorder:"1",rightBorder:"1",bottomBorder:"1"}}function D(e){return{type:"empty",rowIndex:0,columnIndex:e,color:"white",topBorder:"1",leftBorder:"1",rightBorder:"1",bottomBorder:"1"}}var G=n(3),H=Object(h.a)({buttonNormal:{color:"black",fontSize:"1em",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",whiteSpace:"wrap",borderStyle:"solid",padding:"5px","&:hover":{color:"white",background:"black"}},buttonSelected:{color:"white",background:"black",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px","&:hover":{color:"white",background:"black",cursos:"auto"}}}),q=function(e){var t=e.item,n=Object(p.c)((function(e){return e.tables.selectedTable})),a=Object(o.useState)(!1),r=Object(u.a)(a,2),c=r[0],i=r[1],l=H(),s=Object(p.b)();Object(o.useEffect)((function(){i(n&&n.id===t.id)}),[i,n,t]);return Object(G.jsx)(m.a,{onClick:c?null:function(){var e;s((e=t,function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:N,table:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},className:c?l.buttonSelected:l.buttonNormal,children:t.name})},z=Object(h.a)({card:{display:"inline-flex",flexDirection:"column",background:"white",borderRadius:"10px",minHeight:"150px",maxWidth:"150px",flex:1},iconmenubutton:{height:"35px",color:"black",fontSize:"2em",textTransform:"none",borderRadius:"5px",borderColor:"#FFFFFF",borderWidth:"1px",margin:"0px auto 5px auto",borderStyle:"solid","&:hover":{color:"white",background:"black"}},text:{textAlign:"center",margin:"5px"}}),J=function(e){var t=e.showTableNamePopup,n=z(),a=Object(p.c)((function(e){return e.tables.tables})),r=Object(p.b)();return Object(o.useEffect)((function(){r(function(){var e=Object(w.a)(v.a.mark((function e(t){var n,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,n=P.collection("tables"),e.next=5,n.get().then((function(e){var n=[];e.forEach((function(e){n.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),t({type:C,tables:n})}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o=e.t0&&e.t0.error?e.t0.error:"System error",t({type:k,error:o});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(G.jsxs)(j.a,{className:n.card,children:[Object(G.jsx)("h3",{className:n.text,children:"Tables"}),Object(G.jsx)(m.a,{className:n.iconmenubutton,onClick:t,children:Object(G.jsx)(f.a,{})}),a.map((function(e){return Object(G.jsx)(q,{item:e},a.indexOf(e))}))]})},K=n(303),Y="cellsRows/GET_CELLS_ROWS",V="cellsRows/GET_CELLS_ROWS_SUCCESS",X="cellsRows/GET_CELLS_ROWS_FAILED",Q="cellsRows/CLEAR_CELLS_ROWS";function Z(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Y});try{P.collection("tables").doc(e).collection("cellsRows").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),n({type:V,data:t})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:X,error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var $="popups/SHOW_ACTION_POPUP",ee="popups/CLOSE_ACTION_POPUP",te="popups/SHOW_INFO_POPUP",ne="popups/SHOW_NO_TYPE_POPUP",oe="popups/SHOW_IMAGE_CELL_POPUP",ae="popups/SHOW_EMPTY_CELL_POPUP",re="popups/SUBMIT_NO_TYPE_POPUP",ce="popups/BEGIN_CUSTOM_SELECT",ie="popups/CELL_TO_UPDATE_CUSTOM_CELL_SELECTED",le="popups/CUSTOM_CELLS_SUBMITED",se="popups/CANCEL_CUSTOM_CELLS";function ue(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:oe,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function pe(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ee});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var de=Object(h.a)({cell:{height:"50px",width:"100px",display:"table-cell"}}),be=function(e){var t=e.cell,n=e.cellsRow,a=de(),r=Object(p.b)();Object(o.useEffect)((function(){t&&void 0!==t.bigImagePath&&r(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.ref(e.bigImagePath).getDownloadURL().then((function(t){n({type:_,image:t,cell:e})})).catch((function(){console.log("error")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t,r]);return Object(G.jsx)("div",{className:a.cell,onClick:function(){"empty"===t.type?r(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:ae,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):r(ue(t,n))}})},he=Object(h.a)({cell:{background:function(e){return e.color},borderLeftWidth:function(e){return e.left+"px"},borderRightWidth:function(e){return e.right+"px"},borderTopWidth:function(e){return e.top+"px"},borderBottomWidth:function(e){return e.bottom+"px"},borderTopColor:function(e){return e.isCustomCell?"#2BFF00":"black"},borderRightColor:function(e){return e.isCustomCell?"#2BFF00":"black"},borderLeftColor:function(e){return e.isCustomCell?"#2BFF00":"black"},borderBottomColor:function(e){return e.isCustomCell?"#2BFF00":"black"},height:"50px",width:"100px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",alignContent:"center",textAlign:"center",justifyContent:"center",display:"table-cell",verticalAlign:"middle"},text:{fontSize:"10px",margin:"0px",lineHeight:"1.1",fontWeight:"bold"}}),je=function(e){var t=e.cell,n=e.cellsRow,o=e.isCustomCell,a=he({left:t.leftBorder,right:t.rightBorder,top:t.topBorder,bottom:t.bottomBorder,color:t.color,isCustomCell:o}),r=Object(p.c)((function(e){return e.popups.cellToUpdate})),c=Object(p.b)();return Object(G.jsxs)("div",{className:a.cell,onClick:function(){void 0!==r?r.cell.columnIndex===t.columnIndex&&r.cell.rowIndex===t.rowIndex||"info"!==t.type||c(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ie,cell:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)):"notype"===t.type?c(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:ne,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):"info"===t.type?c(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:te,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):"action"===t.type&&c(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:$,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:[t.sumAll&&Object(G.jsx)("img",{style:{width:"25px",height:"25px",marginLeft:"auto",marginRight:"auto"},src:"/dao.png",alt:"all"}),t.name&&!t.sumAll&&t.name.split("<br />").map((function(e,t){return Object(G.jsx)("p",{className:a.text,children:e},t)}))]})},me=Object(h.a)({row:{display:"table-row"}}),xe=function(e){var t=e.cellsRow,n=me(),o=Object(p.c)((function(e){return e.popups.cellToUpdateCustomCells})),a=Object(p.c)((function(e){return e.popups.letsUpdate}));return Object(G.jsxs)("div",{className:n.row,children:[a&&Object(G.jsx)("div",{}),t&&t.cells&&t.cells.sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1})).map((function(e){return"empty"===e.type||"image"===e.type?Object(G.jsx)(be,{cell:e,cellsRow:t},"".concat(t.rowIndex)+e.columnIndex):Object(G.jsx)(je,{cell:e,cellsRow:t,isCustomCell:o&&o.includes(e)},"".concat(t.rowIndex)+e.columnIndex)}))]})},fe="cell/UPDATE_CELL",ge="cell/UPDATE_CELL_SUCCESS",Oe="cell/UPDATE_CELL_FAILED",ve="cell/GET_CELL_FILE_SUCCESS",we="cell/GET_CELL_NAME_FILE_SUCCESS",ye="cell/GET_CELL_IMAGE_FILE_SUCCESS";function Ce(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a,r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:fe});try{a=P.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),r=[],t.cells.forEach((function(t){t.columnIndex!==e.columnIndex&&r.push(t)})),r.push(e),a.update({cells:r}),o({type:ge,cell:e}),o({type:le})}catch(i){c=i&&i.error?i.error:"System error",o({type:Oe,error:c})}o({type:ee});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ke=Object(h.a)({container:{marginBottom:"10px",marginTop:"10px",background:"white",padding:"20px"},cont:{display:"flex",flexDirection:"row"},text:{padding:"5px",borderRadius:"5px",border:"1px solid black",marginRight:"10px"},submitButton:{marginTop:"10px",background:"blue",color:"white",padding:"10px 20px","&:hover":{background:"black"}},cancelButton:{marginTop:"10px",marginRight:"20px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}}}),Ee=function(){var e=ke(),t=Object(p.b)(),n=Object(p.c)((function(e){return e.popups.cellToUpdateCustomCells})),o=Object(p.c)((function(e){return e.popups.cellToUpdate})),a=Object(p.c)((function(e){return e.popups.letsUpdate})),r=Object(p.c)((function(e){return e.popups.cellsRow})),c=function(e){var t=[];return e.forEach((function(e){t.push({columnIndex:e.columnIndex,rowIndex:e.rowIndex})})),t};return void 0!==n?Object(G.jsxs)("div",{className:e.container,children:[a&&Object(G.jsx)("div",{}),Object(G.jsx)("h2",{children:"Select cells"}),Object(G.jsxs)("div",{className:e.cont,children:[n.map((function(t,n){return Object(G.jsx)("p",{className:e.text,children:null===t.name?"":(o=t.name,o.split("<br />").join(" "))},n);var o})),0===n.length?Object(G.jsx)("p",{className:e.text,children:"No cells are selected"}):Object(G.jsx)("p",{})]}),Object(G.jsx)(m.a,{className:e.cancelButton,onClick:function(){t(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:se});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Cancel"}),Object(G.jsx)(m.a,{className:e.submitButton,onClick:function(){t(Ce(Object(g.a)(Object(g.a)({},o.cell),{},{customCells:c(n)}),r))},children:"Submit custom cells"})]}):Object(G.jsx)("div",{})},Te=function(){var e=Object(p.c)((function(e){return e.tables.bigImage})),t=Object(p.c)((function(e){return e.tables.bigImageCell}));return void 0!==e?Object(G.jsx)("img",{style:{position:"absolute",top:"".concat(50*t.rowIndex+140+56+parseInt(t.bigImageTopMargin)+25-t.bigImageHeight/2,"px"),left:"".concat(100*t.columnIndex+180+parseInt(t.bigImageLeftMargin)+50-t.bigImageWidth/2,"px")},src:e,height:t.bigImageHeight,width:t.bigImageWidth,alt:"big"}):Object(G.jsx)("div",{})},Ie=function(){var e=Object(p.c)((function(e){return e.tables.bigImage})),t=Object(p.b)();return void 0!==e?Object(G.jsx)(m.a,{style:{color:"white",background:"red",marginBottom:"10px",marginTop:"10px"},onClick:function(){t(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:R});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"REMOVE BIG IMAGE"}):Object(G.jsx)("div",{})},Se=Object(h.a)({card:{marginLeft:"10px",background:"white",borderRadius:"10px",minHeight:"150px",flex:1,padding:"20px"},name:{margin:"0px",flex:1},description:{margin:"0px",flex:1},cellContainer:{display:"table"},deleteButton:{marginTop:"10px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}}}),Ne=function(e){var t=e.table,n=Se(),a=Object(o.useState)(!1),r=Object(u.a)(a,2),c=r[0],i=r[1],l=Object(p.c)((function(e){return e.cellsRows.cellsRows})),s=Object(p.c)((function(e){return e.tables.tableJustCreated})),d=Object(p.b)(),b=Object(o.useCallback)((function(){d(Z(t.id)),d(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:B});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[d,t]);Object(o.useEffect)((function(){s?(i(!0),setTimeout(b,3e3)):(c||d(Z(t.id)),i(!1))}),[d,t,s,c,b]);return Object(G.jsxs)(j.a,{className:n.card,children:[Object(G.jsx)("h2",{className:n.name,children:t.name}),t.description.split("<br />").map((function(e,t){return Object(G.jsx)("p",{className:n.description,children:e},t)})),Object(G.jsx)(Ie,{}),Object(G.jsx)(Ee,{}),c&&Object(G.jsx)(K.a,{}),!c&&Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:n.cellContainer,children:[Object(G.jsx)(Te,{}),l.map((function(e){return Object(G.jsx)(xe,{cellsRow:e},l.indexOf(e))}))]}),Object(G.jsx)("div",{children:Object(G.jsx)(m.a,{className:n.deleteButton,onClick:function(){d(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:T});try{a=P.collection("tables").doc(e),t.forEach((function(e){a.collection("cellsRows").doc(e.id).delete()})),a.delete(),o({type:I,tableId:e})}catch(c){r=c&&c.error?c.error:"System error",o({type:S,error:r})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,l))},children:"Delete"})})]})]})},_e=n(315),Be=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white","&:hover":{background:"black"}}}),Re=function(e){var t=a.a.useState(""),n=Object(u.a)(t,2),o=n[0],r=n[1],c=a.a.useState(""),i=Object(u.a)(c,2),l=i[0],s=i[1],d=Be(),b=Object(p.b)();return Object(G.jsx)("div",{className:d.popupbox,children:Object(G.jsxs)("div",{className:d.box,children:[Object(G.jsx)("span",{className:d.closeicon,onClick:e.handleClose,children:"x"}),Object(G.jsx)("h2",{children:"Create table"}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"name",variant:"outlined",placeholder:"Name",value:o,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){r(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"description",variant:"outlined",multiline:!0,rows:4,rowsMax:4,placeholder:"Description",value:l,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(G.jsx)(m.a,{className:d.button,onClick:function(){b(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=P.collection("tables"),n.next=3,a.add({name:e,description:t}).then((function(n){W(n.id).forEach((function(e){a.doc(n.id).collection("cellsRows").add({tableId:e.tableId,rowIndex:e.rowIndex}).then((function(t){var o=[];e.cells.forEach((function(e){return o.push(Object(g.a)(Object(g.a)({},e),{},{tableId:n.id,cellsRowId:t.id}))})),a.doc(n.id).collection("cellsRows").doc(t.id).update({cells:o})}))})),o({type:E,table:{id:n.id,name:e,description:t}})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,l.split("\n").join("<br />"))),e.handleClose()},children:"Submit"})]})})},Le=n(307),Pe=n(312),Ae=n(317),Fe=n(318),We=n(306),Ue=n(311),Me=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"},noTypeButton:{marginTop:"10px",background:"red",marginRight:"10px",color:"white","&:hover":{background:"black"}}}),De=function(){var e=a.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(u.a)(c,2),l=i[0],s=i[1],d=a.a.useState(""),b=Object(u.a)(d,2),h=b[0],j=b[1],x=a.a.useState(""),f=Object(u.a)(x,2),O=f[0],y=f[1],C=a.a.useState(""),k=Object(u.a)(C,2),E=k[0],T=k[1],I=a.a.useState(""),S=Object(u.a)(I,2),N=S[0],_=S[1],B=a.a.useState(""),R=Object(u.a)(B,2),L=R[0],P=R[1],A=Object(p.c)((function(e){return e.popups.cell})),F=Object(p.c)((function(e){return e.popups.cellsRow})),W=Me(),U=Object(p.b)();Object(o.useEffect)((function(){A.sumAll?r(A.sumAll):(s(void 0===A.name?"":A.name.split("<br />").join("\n")),T(A.actionType),_(A.typeActionType),P(A.typeActionTypeName),j(A.color),y(A.rows))}),[A]);var M=["selectrows","selecttype","custom"],D=["selecttypeall","selecttyperows"],H=["Select Rows","Select Type","Custom"],q=["Select All Cells of Type","Select Type Rows"],z=function(){U(pe())};return Object(G.jsx)("div",{className:W.popupbox,children:Object(G.jsxs)("div",{className:W.box,children:[Object(G.jsx)("span",{className:W.closeicon,onClick:z,children:"x"}),Object(G.jsx)("h2",{className:W.header,children:"Update Action"}),Object(G.jsx)("div",{children:Object(G.jsx)(Le.a,{value:n,control:Object(G.jsx)(Pe.a,{color:"default",onClick:function(){r(!n)}}),label:"Sum all?",checked:n,labelPlacement:"start"})}),!n&&Object(G.jsxs)("div",{children:[Object(G.jsx)(_e.a,{fullWidth:!0,name:"name",variant:"outlined",placeholder:"Name",value:l,multiline:!0,rows:3,rowsMax:3,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(G.jsx)(_e.a,{fullWidth:!0,name:"color",variant:"outlined",placeholder:"Cell color",value:h,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){j(e.target.value)}}),Object(G.jsxs)(We.a,{className:W.formControl,children:[Object(G.jsx)(Ae.a,{id:"label",children:"Action Type"}),Object(G.jsx)(Ue.a,{id:"select",value:E||"",onChange:function(e){T(e.target.value)},children:M.map((function(e,t){return Object(G.jsx)(Fe.a,{value:e,children:H[t]},e)}))})]}),E===M[1]&&Object(G.jsxs)(We.a,{className:W.formControl,children:[Object(G.jsx)(Ae.a,{id:"label",children:"Action Type"}),Object(G.jsx)(Ue.a,{id:"select",value:N||"",onChange:function(e){_(e.target.value)},children:D.map((function(e,t){return Object(G.jsx)(Fe.a,{value:e,children:q[t]},e)}))})]}),E===M[1]&&Object(G.jsx)(_e.a,{fullWidth:!0,name:"rows",variant:"outlined",placeholder:"Enter type name",value:L||"",style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){P(e.target.value)}}),(E===M[0]||E===M[1]&&N===D[1])&&Object(G.jsx)(_e.a,{fullWidth:!0,name:"rows",variant:"outlined",placeholder:"Enter row indexes separated with Whitespaces ( Begining with 0 )",value:O||"",style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){y(e.target.value)}})]}),"notype"!==A.type&&Object(G.jsx)(m.a,{className:W.noTypeButton,onClick:function(){U(Ce(Object(g.a)(Object(g.a)({},A),{},{name:"",color:"white",actionType:"",typeActionType:"",typeActionTypeName:"",rows:"",sumAll:!1,type:"notype"}),F)),z()},children:"MAKE NO TYPE"}),Object(G.jsx)(m.a,{className:W.button,onClick:function(){"custom"===E?U(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ce,cell:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({cell:Object(g.a)(Object(g.a)({},A),{},{name:void 0===l?"":l.split("\n").join("<br />"),color:void 0===h?"":h,actionType:void 0===E?"":E,typeActionType:void 0===N?"":N,typeActionTypeName:void 0===L?"":L,rows:void 0===O?"":O,sumAll:n,type:"action"})})):(U(Ce(Object(g.a)(Object(g.a)({},A),{},{name:void 0===l?"":l.split("\n").join("<br />"),color:void 0===h?"":h,actionType:void 0===E?"":E,typeActionType:void 0===N?"":N,typeActionTypeName:void 0===L?"":L,rows:void 0===O?"":O,sumAll:n,type:"action"}),F)),z())},children:"Submit"})]})})},Ge=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},makeEmptyButton:{border:"1px solid black",color:"white",background:"blue",marginTop:"10px",marginRight:"20px"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"}}),He=function(){var e=a.a.useState(!1),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(p.c)((function(e){return e.popups.cell})),c=Object(p.c)((function(e){return e.popups.cellsRow})),i=Ge(),l=Object(p.b)();return Object(G.jsx)("div",{className:i.popupbox,children:Object(G.jsxs)("div",{className:i.box,children:[Object(G.jsx)("span",{className:i.closeicon,onClick:function(){l(pe())},children:"x"}),Object(G.jsx)("h2",{className:i.header,children:"Select cell type"}),Object(G.jsx)("div",{children:Object(G.jsx)(Le.a,{value:n,control:Object(G.jsx)(Pe.a,{color:"default",onClick:function(){o(!n)}}),label:"Is it an action cell?",checked:n,labelPlacement:"start"})}),Object(G.jsx)(m.a,{className:i.makeEmptyButton,onClick:function(){l(Ce(Object(g.a)(Object(g.a)({},r),{},{type:"empty"}),c))},children:"Make Empty"}),Object(G.jsx)(m.a,{className:i.button,onClick:function(){l(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:re,isAction:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))},children:"Submit Type Cell"})]})})},qe=n(64),ze=n(128),Je=n.n(ze),Ke=(n(265),"snackbar/SHOW_SNACKBAR"),Ye="snackbar/CLOSE_SNACKBAR";function Ve(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Ke,message:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Xe=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"95vh",marginTop:"calc(5vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},header:{margin:"10px 0px"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(5vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{marginTop:"10px",marginBottom:"10px",border:"1px solid black"},submitButton:{marginTop:"10px",marginBottom:"10px",background:"green",color:"white",border:"1px solid black","&:hover":{background:"black"}},quillContainer:{display:"flex",flexDirection:"row",marginTop:"10px"},editor:{marginLeft:"10px",flex:1},fileNameContainer:{marginTop:"10px",marginBottom:"20px"},removeFileButton:{marginLeft:"30px"},borderInputcontainer:{marginTop:"50px"},borderText:{marginBottom:"5px"},noTypeButton:{marginTop:"10px",background:"red",marginRight:"10px",marginBottom:"10px",color:"white","&:hover":{background:"black"}}}),Qe=function(){var e=a.a.useState(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(u.a)(c,2),l=i[0],s=i[1],d=a.a.useState(""),b=Object(u.a)(d,2),h=b[0],j=b[1],x=a.a.useState(""),f=Object(u.a)(x,2),O=f[0],y=f[1],C=a.a.useState(void 0),k=Object(u.a)(C,2),E=k[0],T=k[1],I=a.a.useState(void 0),S=Object(u.a)(I,2),N=S[0],_=S[1],B=a.a.useState(""),R=Object(u.a)(B,2),L=R[0],F=R[1],W=a.a.useState(""),U=Object(u.a)(W,2),M=U[0],D=U[1],H=a.a.useState(""),q=Object(u.a)(H,2),z=q[0],J=q[1],K=a.a.useState(""),Y=Object(u.a)(K,2),V=Y[0],X=Y[1],Q=a.a.useState(""),Z=Object(u.a)(Q,2),$=Z[0],te=Z[1],ne=Object(p.c)((function(e){return e.popups.cell})),oe=Object(p.c)((function(e){return e.popups.cellFile})),ae=Object(p.c)((function(e){return e.popups.cellNameFile})),re=Object(p.c)((function(e){return e.popups.cellsRow})),ce=Xe(),ie=Object(p.b)();Object(o.useEffect)((function(){var e,t;ne&&(r(void 0===ne.name?"":ne.name.split("<br />").join("\n")),s(ne.color),y(void 0===ne.description?"":ne.description),F(ne.topBorder),D(ne.bottomBorder),J(ne.leftBorder),X(ne.rightBorder),te(ne.bluetoothContent),void 0!==ne.nameFilePath&&""!==ne.nameFilePath&&ie((t=ne.nameFilePath,function(){var e=Object(w.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"cell/GET_CELL_NAME_FILE"});try{A.ref(t).getMetadata().then((function(e){n({type:we,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_NAME_FILE_FAILED",error:o})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),void 0!==ne.filePath&&""!==ne.filePath&&ie((e=ne.filePath,function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"cell/GET_CELL_FILE"});try{A.ref(e).getMetadata().then((function(e){n({type:ve,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_FILE_FAILED",error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))}),[ne,ie]);var le=function(){ie(pe())},se=function(e){ie(Ve(e))};return Object(G.jsx)("div",{className:ce.popupbox,children:Object(G.jsxs)("div",{className:ce.box,children:[Object(G.jsx)("span",{className:ce.closeicon,onClick:le,children:"x"}),Object(G.jsx)("h2",{className:ce.header,children:"Update Information"}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"name",variant:"outlined",placeholder:"Name",value:n,multiline:!0,rows:3,rowsMax:3,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){r(e.target.value)}}),Object(G.jsx)(qe.FilePicker,{extensions:["png","jpg","jpeg"],onChange:function(e){_(e)},onError:se,children:Object(G.jsx)(m.a,{className:ce.button,children:"Click to upload NAME image"})}),(N||ae)&&Object(G.jsxs)("div",{className:ce.fileNameContainer,children:["Uploaded image:",Object(G.jsx)("strong",{children:void 0===N?ae.name:N.name}),Object(G.jsx)("button",{className:ce.removeFileButton,onClick:function(){_(void 0)},children:"Remove"})]}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"color",variant:"outlined",placeholder:"Cell color",value:l,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"color",variant:"outlined",placeholder:"Type for action",value:h,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){j(e.target.value)}}),Object(G.jsx)(qe.FilePicker,{extensions:["pdf","png","jpg","jpeg"],onChange:function(e){T(e)},onError:se,children:Object(G.jsx)(m.a,{className:ce.button,children:"Click to upload file"})}),(E||oe)&&Object(G.jsxs)("div",{className:ce.fileNameContainer,children:["Uploaded file:"," ",Object(G.jsx)("strong",{children:void 0===E?oe.name:E.name}),Object(G.jsx)("button",{className:ce.removeFileButton,onClick:function(){T(void 0)},children:"Remove"})]}),Object(G.jsxs)("div",{className:ce.quillContainer,children:[Object(G.jsx)("p",{className:ce.text,children:"Enter description:"}),Object(G.jsx)(Je.a,{theme:"snow",className:ce.editor,value:O,onChange:function(e){y(e)}})]}),Object(G.jsxs)("div",{className:ce.borderInputcontainer,children:[Object(G.jsx)("p",{className:ce.borderText,children:"Enter Borders Width In Numbers"}),Object(G.jsx)(_e.a,{required:!0,name:"top",variant:"outlined",placeholder:"Top",value:L,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){F(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,name:"right",variant:"outlined",placeholder:"Right",value:V,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){X(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,name:"bottom",variant:"outlined",placeholder:"Bottom",value:M,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){D(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,name:"left",variant:"outlined",placeholder:"Left",value:z,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){J(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"bluetoothContent",variant:"outlined",multiline:!0,rows:4,rowsMax:4,placeholder:"Bluetooth content",value:$,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){te(e.target.value)}})]}),Object(G.jsxs)("div",{children:["notype"!==ne.type&&Object(G.jsx)(m.a,{className:ce.noTypeButton,onClick:function(){ie(Ce(Object(g.a)(Object(g.a)({},ne),{},{name:"",description:"",color:"white",typeForAction:"",topBorder:1,bottomBorder:1,leftBorder:1,rightBorder:1,type:"notype",file:"",nameFile:"",bluetoothContent:""}),re)),le()},children:"MAKE NO TYPE"}),Object(G.jsx)(m.a,{className:ce.submitButton,onClick:function(){ie(function(e,t,n,o){return function(){var a=Object(w.a)(v.a.mark((function a(r){var c,i,l,s,u,p;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r({type:fe}),a.prev=1,c="",i="",void 0===t){a.next=10;break}return c="/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+t.name,a.next=8,A.ref(c).put(t);case 8:a.next=11;break;case 10:e.filePath&&""!==e.filePath&&(c=e.filePath);case 11:if(void 0===n){a.next=17;break}return i="/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+n.name,a.next=15,A.ref(i).put(n);case 15:a.next=18;break;case 17:e.nameFilePath&&""!==e.nameFilePath&&(i=e.nameFilePath);case 18:l=P.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),s=Object(g.a)(Object(g.a)({},e),{},{filePath:c,nameFilePath:i}),u=[],o.cells.forEach((function(e){e.columnIndex!==s.columnIndex&&u.push(e)})),u.push(s),l.update({cells:u}),r({type:ge,cell:s}),a.next=31;break;case 27:a.prev=27,a.t0=a.catch(1),p=a.t0&&a.t0.error?a.t0.error:"System error",r({type:Oe,error:p});case 31:r({type:ee});case 32:case"end":return a.stop()}}),a,null,[[1,27]])})));return function(e){return a.apply(this,arguments)}}()}(Object(g.a)(Object(g.a)({},ne),{},{name:n.split("\n").join("<br />"),description:O,color:l,typeForAction:h,topBorder:L,bottomBorder:M,leftBorder:z,rightBorder:V,type:"info",bluetoothContent:$}),E,N,re)),le()},children:"Submit"})]})]})})},Ze=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}},notypeButton:{border:"1px solid black",background:"blue",marginRight:"20px",color:"white",marginTop:"10px","&:hover":{background:"black"}}}),$e=function(){var e=Object(p.c)((function(e){return e.popups.cell})),t=Object(p.c)((function(e){return e.popups.cellsRow})),n=Ze(),o=Object(p.b)();return Object(G.jsx)("div",{className:n.popupbox,children:Object(G.jsxs)("div",{className:n.box,children:[Object(G.jsx)("span",{className:n.closeicon,onClick:function(){o(pe())},children:"x"}),Object(G.jsx)(m.a,{className:n.notypeButton,onClick:function(){o(Ce(Object(g.a)(Object(g.a)({},e),{},{type:"notype"}),t))},children:"MAKE CELL NOTYPE"}),Object(G.jsx)(m.a,{className:n.button,onClick:function(){o(ue())},children:"ADD IMAGE"})]})})},et=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},fileNameContainer:{marginTop:"10px",marginBottom:"20px"},removeFileButton:{marginLeft:"30px"},fileButton:{marginTop:"10px",marginBottom:"10px",border:"1px solid black"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}}}),tt=function(){var e=a.a.useState(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(u.a)(c,2),l=i[0],s=i[1],d=a.a.useState(void 0),b=Object(u.a)(d,2),h=b[0],j=b[1],x=a.a.useState(""),f=Object(u.a)(x,2),O=f[0],y=f[1],C=a.a.useState(""),k=Object(u.a)(C,2),E=k[0],T=k[1],I=Object(p.c)((function(e){return e.popups.cell})),S=Object(p.c)((function(e){return e.popups.cellImageFile})),N=Object(p.c)((function(e){return e.popups.cellsRow})),_=et(),B=Object(p.b)();Object(o.useEffect)((function(){var e;I&&(s(void 0===I.bigImageHeight?"":I.bigImageHeight),r(void 0===I.bigImageWidth?"":I.bigImageWidth),y(void 0===I.bigImageLeftMargin?"":I.bigImageLeftMargin),T(void 0===I.bigImageTopMargin?"":I.bigImageTopMargin),I&&void 0!==I.bigImagePath&&""!==I.bigImagePath&&B((e=I.bigImagePath,function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"cell/GET_CELL_IMAGE_FILE"});try{A.ref(e).getMetadata().then((function(e){n({type:ye,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_IMAGE_FILE_FAILED",error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))}),[I,B]);return Object(G.jsx)("div",{className:_.popupbox,children:Object(G.jsxs)("div",{className:_.box,children:[Object(G.jsx)("span",{className:_.closeicon,onClick:function(){B(pe())},children:"x"}),Object(G.jsx)(qe.FilePicker,{extensions:["png","jpg","jpeg"],onChange:function(e){j(e)},onError:function(e){B(Ve(e))},children:Object(G.jsx)(m.a,{className:_.fileButton,children:"Click to upload image"})}),(h||S)&&Object(G.jsxs)("div",{className:_.fileNameContainer,children:["Uploaded image:"," ",Object(G.jsx)("strong",{children:void 0===h?S.name:h.name}),Object(G.jsx)("button",{className:_.removeFileButton,onClick:function(){j(void 0)},children:"Remove"})]}),Object(G.jsx)("h3",{children:"Single cell width = 100 and height = 50"}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"width",variant:"outlined",placeholder:"Enter width",value:n,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){r(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"height",variant:"outlined",placeholder:"Enter height",value:l,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(G.jsxs)("div",{style:{marginBottom:"10px",marginTop:"10px"},children:[Object(G.jsx)(_e.a,{required:!0,name:"topMargin",variant:"outlined",placeholder:"Top margin",value:E,style:{marginRight:"10px",maxWidth:"140px"},onChange:function(e){T(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,name:"leftMargin",variant:"outlined",placeholder:"Left margin",value:O,style:{maxWidth:"140px"},onChange:function(e){y(e.target.value)}})]}),Object(G.jsx)(m.a,{className:_.button,onClick:function(){B(function(e,t,n){return function(){var o=Object(w.a)(v.a.mark((function o(a){var r,c,i,l;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a({type:fe}),o.prev=1,r="/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+t.name,o.next=5,A.ref(r).put(t);case 5:c=P.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),i=Object(g.a)(Object(g.a)({},e),{},{bigImagePath:r}),console.log(i),l=[],n.cells.forEach((function(e){e.columnIndex!==i.columnIndex&&l.push(e)})),l.push(i),c.update({cells:l}),a({type:ge,cell:i}),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),a({type:Oe,e:o.t0});case 18:a({type:ee});case 19:case"end":return o.stop()}}),o,null,[[1,15]])})));return function(e){return o.apply(this,arguments)}}()}(Object(g.a)(Object(g.a)({},I),{},{type:"image",bigImageWidth:n,bigImageHeight:l,bigImageTopMargin:""===E?0:E,bigImageLeftMargin:""===O?0:O}),h,N))},children:"SUBMIT"})]})})},nt=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(p.c)((function(e){return e.tables.selectedTable})),c=Object(p.c)((function(e){return e.popups.actionPopupOpen})),i=Object(p.c)((function(e){return e.popups.emptyCellPopupOpen})),s=Object(p.c)((function(e){return e.popups.infoPopupOpen})),h=Object(p.c)((function(e){return e.popups.noTypePopupOpen})),j=Object(p.c)((function(e){return e.popups.imagePopupOpen})),m=Object(p.c)((function(e){return e.user.user})),x=Object(l.f)();n||c||s||j||i||h?(window.scrollTo(0,0),Object(b.a)(document)):Object(b.b)(document),Object(o.useEffect)((function(){void 0!==m&&"admin"===m.role||x.push("/"),window.scrollTo(0,0)}),[m,x]);var f=function(){a(!n)};return Object(G.jsxs)(d.a,{style:{padding:"10px",width:"100%",display:"inline-flex",flexDirection:"row"},children:[Object(G.jsx)(J,{showTableNamePopup:f}),void 0===r?Object(G.jsx)("h2",{style:{flex:1,textAlign:"center"},children:"Please select a table"}):Object(G.jsx)(Ne,{table:r}),n&&Object(G.jsx)(Re,{handleClose:f}),i&&Object(G.jsx)($e,{}),c&&Object(G.jsx)(De,{}),s&&Object(G.jsx)(Qe,{}),h&&Object(G.jsx)(He,{}),j&&Object(G.jsx)(tt,{})]})},ot=n(314),at=n(308),rt=n(130),ct=n.n(rt),it=Object(h.a)((function(e){return{close:{padding:e.spacing(.5)}}})),lt=function(){var e=it(),t=Object(p.c)((function(e){return e.snackbar.open})),n=Object(p.c)((function(e){return e.snackbar.message})),o=Object(p.b)();if(!t)return null;var a=function(){o(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ye});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(G.jsx)(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:t,autoHideDuration:5e3,onClose:a,message:Object(G.jsx)("span",{children:n}),action:[Object(G.jsx)(at.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:a,children:Object(G.jsx)(ct.a,{})},"close")]})},st=n(273),ut="user/SIGN_IN",pt="user/SIGN_IN_SUCCESS",dt="user/SIGN_IN_FAILED";var bt=Object(h.a)({title:{margin:"10px",fontSize:"28px",fontWeight:"bold"},container:{background:"white",borderRadius:"10px",maxWidth:"500px",alignContent:"center",padding:"10px",display:"flex",marginTop:"30px",marginLeft:"auto",marginRight:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center"},button:{margin:"10px",minWidth:"200px",background:"green",fontWeight:"bold",color:"white","&:hover":{background:"black"}}}),ht=function(){var e=Object(o.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),c=Object(u.a)(r,2),i=c[0],s=c[1],d=Object(p.c)((function(e){return e.user.user})),b=bt(),h=Object(p.b)(),x=Object(l.f)();Object(o.useEffect)((function(){void 0!==d&&x.push("/home")}),[d,x]);return Object(G.jsxs)(j.a,{className:b.container,children:[Object(G.jsx)(st.a,{className:b.title,children:"Sign In"}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"email",variant:"outlined",placeholder:"Email",value:n,rows:1,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){a(e.target.value)}}),Object(G.jsx)(_e.a,{required:!0,fullWidth:!0,name:"password",variant:"outlined",placeholder:"Password",value:i,type:"password",rows:1,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(G.jsx)(m.a,{className:b.button,onClick:function(){h(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ut});try{F.signInWithEmailAndPassword(e.email,e.password).then((function(e){P.collection("users").doc(e.user.uid).get().then((function(e){var t=e.data();"admin"===t.role?n({type:pt,user:t}):n({type:dt})}))}))}catch(o){n({type:dt})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:n,password:i}))},children:"Submit"})]})};var jt=function(){return Object(G.jsxs)(i.a,{children:[Object(G.jsx)(s.a,{}),Object(G.jsx)("div",{style:{minHeight:"100vh",width:"100%",margin:"0px"},children:Object(G.jsxs)(l.c,{children:[Object(G.jsx)(l.a,{exact:!0,path:"/home",component:nt}),Object(G.jsx)(l.a,{path:"/",component:ht})]})}),Object(G.jsx)(lt,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=n(28),xt=n(94),ft=n(131),gt=n.n(ft),Ot={open:!1,message:""};var vt={tables:[],selectedTable:void 0,tableJustCreated:!1,bigImage:void 0,bigImageCell:void 0,error:void 0};var wt={actionPopupOpen:!1,infoPopupOpen:!1,noTypePopupOpen:!1,emptyCellPopupOpen:!1,imagePopupOpen:!1,cell:void 0,cellsRow:void 0,cellFile:void 0,cellNameFile:void 0,cellImageFile:void 0,cellToUpdate:void 0,cellToUpdateCustomCells:void 0,letsUpdate:!1};var yt={cellsRows:[],error:void 0};var Ct={user:void 0,error:!1};var kt=Object(mt.c)({snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ke:return Object(g.a)(Object(g.a)({},e),{},{open:!0,message:t.message});case Ye:return Object(g.a)(Object(g.a)({},e),{},{open:!1,message:""});default:return e}},tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case R:return Object(g.a)(Object(g.a)({},e),{},{bigImage:void 0,bigImageCell:void 0,error:void 0});case B:return Object(g.a)(Object(g.a)({},e),{},{tableJustCreated:!1});case C:return Object(g.a)(Object(g.a)({},e),{},{tables:t.tables});case k:return Object(g.a)(Object(g.a)({},e),{},{error:!0});case E:var n=e.tables;return n.push(t.table),Object(g.a)(Object(g.a)({},e),{},{tableJustCreated:!0,selectedTable:t.table,tables:n});case _:return Object(g.a)(Object(g.a)({},e),{},{bigImage:t.image,bigImageCell:t.cell});case N:return Object(g.a)(Object(g.a)({},e),{},{selectedTable:t.table,bigImage:void 0,bigImageCell:void 0});case T:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case I:var o=e.tables;return e.tables.forEach((function(e){e.id===t.id&&o.remove(e)})),Object(g.a)(Object(g.a)({},e),{},{selectedTable:void 0,tables:o});case S:return Object(g.a)(Object(g.a)({},e),{},{error:!0});default:return e}},popups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case se:case le:return Object(g.a)(Object(g.a)({},e),{},{cellToUpdate:void 0,cellToUpdateCustomCells:void 0,letsUpdate:!e.letsUpdate});case $:return Object(g.a)(Object(g.a)({},e),{},{actionPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ce:return Object(g.a)(Object(g.a)({},e),{},{actionPopupOpen:!1,cellToUpdate:t.cell,cellToUpdateCustomCells:[]});case ie:var n=e.cellToUpdateCustomCells;if(n.includes(t.cell)){var o=n.indexOf(t.cell);n.splice(o,1)}else n.push(t.cell);return Object(g.a)(Object(g.a)({},e),{},{cellToUpdateCustomCells:n,letsUpdate:!e.letsUpdate});case re:return Object(g.a)(Object(g.a)({},e),{},{noTypePopupOpen:!1,actionPopupOpen:t.isAction,infoPopupOpen:!t.isAction});case ne:return Object(g.a)(Object(g.a)({},e),{},{noTypePopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ae:return Object(g.a)(Object(g.a)({},e),{},{emptyCellPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case oe:return void 0!==t.cell?Object(g.a)(Object(g.a)({},e),{},{imagePopupOpen:!0,emptyCellPopupOpen:!1,cell:t.cell,cellsRow:t.cellsRow}):Object(g.a)(Object(g.a)({},e),{},{imagePopupOpen:!0,emptyCellPopupOpen:!1});case te:return Object(g.a)(Object(g.a)({},e),{},{infoPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ee:return Object(g.a)(Object(g.a)({},e),{},{infoPopupOpen:!1,actionPopupOpen:!1,noTypePopupOpen:!1,emptyCellPopupOpen:!1,imagePopupOpen:!1,cell:void 0,cellsRow:void 0,cellFile:void 0,cellNameFile:void 0,cellImageFile:void 0});case we:return Object(g.a)(Object(g.a)({},e),{},{cellNameFile:t.file});case ye:return Object(g.a)(Object(g.a)({},e),{},{cellImageFile:t.file});case ve:return Object(g.a)(Object(g.a)({},e),{},{cellFile:t.file});default:return e}},cellsRows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ge:var n,o;return e.cellsRows.forEach((function(a){a.cells.forEach((function(r){r.columnIndex===t.cell.columnIndex&&r.rowIndex===t.cell.rowIndex&&(n=e.cellsRows.indexOf(a),o=a.cells.indexOf(r))}))})),e.cellsRows[n].cells[o]=t.cell,Object(g.a)(Object(g.a)({},e),{},{error:void 0});case Y:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case V:return t.data.sort((function(e,t){return e.rowIndex>t.rowIndex?1:-1})),Object(g.a)(Object(g.a)({},e),{},{cellsRows:t.data});case X:return Object(g.a)(Object(g.a)({},e),{},{error:!0});case Q:return Object(g.a)(Object(g.a)({},e),{},{cellsRows:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ut:return Object(g.a)(Object(g.a)({},e),{},{error:!1});case pt:return Object(g.a)(Object(g.a)({},e),{},{user:t.user});case dt:return Object(g.a)(Object(g.a)({},e),{},{error:!0});default:return e}}}),Et=n(132),Tt=n.n(Et),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mt.d,St={key:"root",storage:gt.a,whitelist:["user"]},Nt=Object(xt.a)(St,kt),_t=Object(mt.e)(Nt,Object(mt.d)(Object(mt.a)(Tt.a),It())),Bt=Object(xt.b)(_t),Rt=n(133);c.a.render(Object(G.jsx)(p.a,{store:_t,children:Object(G.jsx)(Rt.a,{loading:null,persistor:Bt,children:Object(G.jsx)(jt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[269,1,2]]]);
//# sourceMappingURL=main.383d07e0.chunk.js.map