(this["webpackJsonpfirmus-medicus"]=this["webpackJsonpfirmus-medicus"]||[]).push([[0],{186:function(e,t,n){},187:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(18),c=n.n(r),i=(n(186),n(187),n(93)),l=n(51),s=n(395),u=n(7),p=n(394),d=n(122),b=n(10),h=n(156),x=n(387),f=n(385),j=n(160),m=n.n(j),g=n(4),O=n(8),v=n.n(O),w=n(15),y="tables/GET_TABLES",C="tables/GET_TABLES_SUCCESS",k="tables/GET_TABLES_FAILED",S="tables/ADD_TABLE",T="tables/DELETE_TABLE",E="tables/DELETE_TABLE_SUCCESS",I="tables/DELETE_TABLE_FAILED",B="tables/SET_SELECTED_TABLE",_="tables/SET_BIG_IMAGE",R="tables/SET_TABLE_JUST_CREATED_FALSE",N="tables/REMOVE_BIG_IMAGE",A=n(81);n(352),n(351),n(194);A.a.initializeApp({apiKey:"AIzaSyBN83KPofzkMJ8I61kt8Fn8our5BSWfNjw",authDomain:"firmus-medicus-a254b.firebaseapp.com",projectId:"firmus-medicus-a254b",storageBucket:"firmus-medicus-a254b.appspot.com",messagingSenderId:"906887380621",appId:"1:906887380621:web:d9ab0a949265376084ecc4",measurementId:"G-506ZEGQVF1"});var L=A.a.firestore(),P=A.a.storage(),D=A.a.auth();function U(e){var t=[];t.push(W(e));for(var n=1;n<28;n++)t.push(F(n,e));return t}function W(e){return{tableId:e,rowIndex:0,cells:[H(0,0),H(0,1),H(0,2),H(0,3),G(4),G(5),G(6),H(0,7),H(0,8),H(0,9),H(0,10)]}}function F(e,t){return{tableId:t,rowIndex:e,cells:[H(e,0),H(e,1),H(e,2),H(e,3),H(e,4),H(e,5),H(e,6),H(e,7),H(e,8),H(e,9),H(e,10)]}}function H(e,t){return{type:"notype",rowIndex:e,columnIndex:t,color:"white",topBorder:"2",leftBorder:"2",rightBorder:"2",bottomBorder:"2"}}function G(e){return{type:"empty",rowIndex:0,columnIndex:e,color:"white",topBorder:"2",leftBorder:"2",rightBorder:"2",bottomBorder:"2"}}function M(e,t){return{type:"info",name:"<p></p>",rowIndex:e,columnIndex:t,color:"white",topBorder:"2",leftBorder:"2",rightBorder:"2",bottomBorder:"2",fontSize:""}}function z(e,t,n){return{type:"action",name:"<p><strong>"+n+"</strong></p>",rowIndex:e,columnIndex:t,actionType:"selectrows",color:"white",topBorder:"2",leftBorder:"2",rightBorder:"2",bottomBorder:"2",fontSize:"22",rows:"".concat(e),sumAll:!1}}function q(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:"action",name:"<p><strong>"+n+"</strong></p>",rowIndex:e,columnIndex:t,actionType:"",color:"white",topBorder:"2",leftBorder:"2",rightBorder:"2",bottomBorder:"2",fontSize:"22",sumAll:o}}function J(e){var t=[];t.push(W(e)),t.push(function(e,t){return{tableId:t,rowIndex:e,cells:[q(e,0,"",!0),q(e,1,"1"),q(e,2,"2"),q(e,3,"3"),q(e,4,"4"),q(e,5,"5"),q(e,6,"6"),q(e,7,"7"),q(e,8,"8"),q(e,9,"9"),q(e,10,"10")]}}(1,e));for(var n=2;n<28;n++)t.push(K(n,e));return t}function K(e,t){return{tableId:t,rowIndex:e,cells:[z(e,0,Y(e)),M(e,1),M(e,2),M(e,3),M(e,4),M(e,5),M(e,6),M(e,7),M(e,8),M(e,9),M(e,10)]}}function Y(e){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][e-2]}var V=n(80),X="cellsRows/GET_CELLS_ROWS",Q="cellsRows/GET_CELLS_ROWS_SUCCESS",Z="cellsRows/GET_CELLS_ROWS_FAILED",$="cellsRows/CLEAR_CELLS_ROWS",ee="cellsRows/ADD_SELECTING_CELL",te="cellsRows/ADD_SELECTING_ALL_CELLS",ne="cellsRows/BEGIN_FORMAT_SELECTING",oe="cellsRows/STOP_FORMAT_SELECTING",ae="cellsRows/UPDATE_CELLS_ROWS",re="cellsRows/ADD_SELECTING_ROW_CELLS";function ce(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:X});try{L.collection("tables").doc(e).collection("cellsRows").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),n({type:Q,data:t})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:Z,error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ie=function(e,t,n,o){n.sort((function(e,t){return e.rowIndex>t.rowIndex?1:-1}));var a=n[0].rowIndex,r=n.length>1?n[n.length-1].rowIndex:a;n.sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1}));var c=n[0].columnIndex,i=n.length>1?n[n.length-1].columnIndex:c,l=Object(V.a)(o),s=[],u=[];n.forEach((function(e){var n=Object(g.a)(Object(g.a)({},e),{},{color:""!==t.color?t.color:e.color,fontColor:""!==t.fontColor?t.fontColor:e.fontColor,bottomBorder:e.rowIndex===r?t.width:e.bottomBorder,topBorder:e.rowIndex===a?t.width:e.topBorder,leftBorder:e.columnIndex===c?t.width:e.leftBorder,rightBorder:e.columnIndex===i?t.width:e.rightBorder,borderColor:""!==t.borderColor?t.borderColor:e.borderColor});s.push(n)})),s.forEach((function(e,t){l[e.rowIndex]=ue(e,n[t],l[e.rowIndex]),u.includes(e.rowIndex)||u.push(e.rowIndex)})),l.forEach((function(e){u.includes(e.rowIndex)&&se(e)})),e({type:ae,cellsRows:l})},le=function(e,t,n,o){var a=Object(V.a)(o),r=[],c=[];n.forEach((function(e){var n=Object(g.a)(Object(g.a)({},e),{},{color:""!==t.color?t.color:e.color,bottomBorder:""!==t.bottom?t.bottom:e.bottomBorder,topBorder:""!==t.top?t.top:e.topBorder,leftBorder:""!==t.left?t.left:e.leftBorder,rightBorder:""!==t.right?t.right:e.rightBorder,borderColor:""!==t.borderColor?t.borderColor:void 0===e.borderColor?"":e.borderColor,fontColor:""!==t.fontColor?t.fontColor:void 0===e.fontColor?"":e.fontColor});console.log(n),r.push(n)})),r.forEach((function(e,t){a[e.rowIndex]=ue(e,n[t],a[e.rowIndex]),c.includes(e.rowIndex)||c.push(e.rowIndex)})),a.forEach((function(e){c.includes(e.rowIndex)&&se(e)})),e({type:ae,cellsRows:a})},se=function(e){L.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.id).update({cells:e.cells})},ue=function(e,t,n){var o=n.cells.indexOf(t);return n.cells[o]=e,n};function pe(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:oe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var de="popups/SHOW_RASP_POPUP",be="popups/SHOW_DEVICES_POPUP",he="popups/SHOW_ACTION_POPUP",xe="popups/CLOSE_ACTION_POPUP",fe="popups/SHOW_INFO_POPUP",je="popups/SHOW_NO_TYPE_POPUP",me="popups/SHOW_IMAGE_CELL_POPUP",ge="popups/SHOW_EMPTY_CELL_POPUP",Oe="popups/SUBMIT_NO_TYPE_POPUP",ve="popups/BEGIN_CUSTOM_SELECT",we="popups/CELL_TO_UPDATE_CUSTOM_CELL_SELECTED",ye="popups/CUSTOM_CELLS_SUBMITED",Ce="popups/CANCEL_CUSTOM_CELLS",ke="popups/SHOW_FORMAT_CELLS_POPUP",Se="popups/SHOW_ADD_TO_USER_POPUP",Te="popups/SHOW_SESSION_LOGS_POPUP",Ee="popups/SHOW_CREATE_TABLE_POPUP",Ie="popups/SHOW_USER_TABLES_POPUP",Be="popups/GET_USER_TABLES_SUCCESS",_e="popups/DELETE_USER_TABLE_SUCCESS";function Re(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ce});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ne(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:me,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Ae(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:be});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Le(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Ee,cellsRows:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Pe(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:xe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var De=n(1),Ue=Object(h.a)({buttonNormal:{color:"black",fontSize:"1em",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",whiteSpace:"wrap",borderStyle:"solid",padding:"5px","&:hover":{color:"white",background:"black"}},buttonSelected:{color:"white",background:"black",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px","&:hover":{color:"white",background:"black",cursos:"auto"}}}),We=function(e){var t=e.item,n=Object(u.c)((function(e){return e.tables.selectedTable})),a=Object(o.useState)(!1),r=Object(b.a)(a,2),c=r[0],i=r[1],l=Ue(),s=Object(u.b)();Object(o.useEffect)((function(){i(n&&n.id===t.id)}),[i,n,t]);return Object(De.jsx)(f.a,{onClick:c?null:function(){var e;s((e=t,function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:B,table:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),s(pe()),s(Re())},className:c?l.buttonSelected:l.buttonNormal,children:t.name})},Fe="user/SIGN_IN",He="user/SIGN_IN_SUCCESS",Ge="user/SIGN_IN_FAILED",Me="user/GET_USERS_SUCCESS",ze="user/ADD_TABLE_TO_USER",qe="user/ADD_TABLE_TO_USER_SUCCESS",Je="user/ADD_TABLE_TO_USER_FAILED";var Ke=Object(h.a)({card:{display:"inline-flex",flexDirection:"column",background:"white",borderRadius:"10px",minHeight:"150px",maxWidth:"150px",flex:1},raspberrybutton:{height:"35px",color:"white",background:"black",fontSize:"1em",textTransform:"none",borderRadius:"5px",borderColor:"#FFFFFF",borderWidth:"1px",margin:"0px auto 5px auto",borderStyle:"solid","&:hover":{color:"black",background:"white",borderColor:"black"}},iconmenubutton:{height:"35px",color:"black",fontSize:"2em",textTransform:"none",borderRadius:"5px",borderColor:"#FFFFFF",borderWidth:"1px",margin:"0px auto 5px auto",borderStyle:"solid","&:hover":{color:"white",background:"black"}},text:{textAlign:"center",margin:"5px"}}),Ye=function(){var e=Object(o.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Ke(),c=Object(u.c)((function(e){return e.tables.tables})),i=Object(u.b)();Object(o.useEffect)((function(){i(function(){var e=Object(w.a)(v.a.mark((function e(t){var n,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,n=L.collection("tables"),e.next=5,n.get().then((function(e){var n=[];e.forEach((function(e){n.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),t({type:C,tables:n})}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o=e.t0&&e.t0.error?e.t0.error:"System error",t({type:k,error:o});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),n||(i(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"user/GET_USERS"});try{L.collection("users").get().then((function(e){var n=[];e.forEach((function(e){n.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),t({type:Me,data:n})}))}catch(n){t({type:"user/GET_USERS_FAILED"})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!0))}),[i,n]);return Object(De.jsxs)(x.a,{className:r.card,children:[Object(De.jsx)(f.a,{className:r.raspberrybutton,onClick:function(){i(Ae())},children:"SHOW SESSIONS"}),Object(De.jsx)(f.a,{className:r.raspberrybutton,onClick:function(){i(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:de});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"MAP RASPBERRY"}),Object(De.jsx)(f.a,{className:r.raspberrybutton,onClick:function(){i(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ie});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"USER TABLES"}),Object(De.jsx)("h3",{className:r.text,children:"Tables"}),Object(De.jsx)(f.a,{className:r.iconmenubutton,onClick:function(){i(Le())},children:Object(De.jsx)(m.a,{})}),c.map((function(e){return Object(De.jsx)(We,{item:e},c.indexOf(e))}))]})},Ve=n(388),Xe=Object(h.a)({cell:{height:"50px",width:"100px",display:"table-cell",textAlign:"center",verticalAlign:"middle"}}),Qe=function(e){var t=e.cell,n=e.cellsRow,a=Xe(),r=Object(u.b)();Object(o.useEffect)((function(){t&&void 0!==t.bigImagePath&&r(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P.ref(e.bigImagePath).getDownloadURL().then((function(t){n({type:_,image:t,cell:e})})).catch((function(){console.log("error")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t,r]);return Object(De.jsx)("div",{className:a.cell,onClick:function(){"empty"===t.type?r(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:ge,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):r(Ne(t,n))},children:"empty"===t.type?"":"image"})},Ze=n.p+"static/media/dao.ad80d2bc.png",$e=Object(h.a)({cell:{background:function(e){return e.color},borderLeftWidth:function(e){return e.left+"px"},borderRightWidth:function(e){return e.right+"px"},borderTopWidth:function(e){return e.top+"px"},borderBottomWidth:function(e){return e.bottom+"px"},borderTopColor:function(e){return e.isCustomCell?"#2BFF00":void 0===e.borderColor||null===e.borderColor||""===e.borderColor?"black":e.borderColor},borderRightColor:function(e){return e.isCustomCell?"#2BFF00":void 0===e.borderColor||null===e.borderColor||""===e.borderColor?"black":e.borderColor},borderLeftColor:function(e){return e.isCustomCell?"#2BFF00":void 0===e.borderColor||null===e.borderColor||""===e.borderColor?"black":e.borderColor},borderBottomColor:function(e){return e.isCustomCell?"#2BFF00":void 0===e.borderColor||null===e.borderColor||""===e.borderColor?"black":e.borderColor},height:"50px",width:"100px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",alignContent:"center",textAlign:"center",justifyContent:"center",display:"table-cell",verticalAlign:"middle",lineHeight:"0.87"}}),et=function(e){var t=e.cell,n=e.cellsRow,o=e.isCustomCell,a=$e({left:t.leftBorder,right:t.rightBorder,top:t.topBorder,bottom:t.bottomBorder,color:t.color,isCustomCell:o,borderColor:t.borderColor}),r=Object(u.c)((function(e){return e.popups.cellToUpdate})),c=Object(u.c)((function(e){return e.cellsRows.isSelecting})),i=Object(u.b)();return Object(De.jsxs)("div",{className:a.cell,onClick:function(){c?i(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ee,cell:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)):void 0!==r?r.cell.columnIndex===t.columnIndex&&r.cell.rowIndex===t.rowIndex||"info"!==t.type&&"action"!==t.type||i(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:we,cell:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)):"notype"===t.type?i(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:je,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):"info"===t.type?i(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:fe,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n)):"action"===t.type&&i(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:he,cell:e,cellsRow:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:[t.sumAll&&Object(De.jsx)("img",{style:{width:"25px",height:"25px",marginLeft:"auto",marginRight:"auto"},src:Ze,alt:"all"}),t.name&&!t.sumAll&&Object(De.jsx)("span",{style:{fontSize:void 0===t.fontSize||null===t.fontSize?12:t.fontSize+"px",fontWeight:t.name.includes("<strong>")?"bold":"normal",fontStyle:t.name.includes("<em>")?"italic":"normal",textDecoration:t.name.includes("<u>")?"underline":"none",color:void 0===t.fontColor||null===t.fontColor||""===t.fontColor?"black":t.fontColor},children:t.name.replaceAll("<p>","").replaceAll("</p>","").replaceAll("<span>","").replaceAll("</span>","").replaceAll("&amp;","").replaceAll("&nbsp;","").replaceAll('<span class="ql-cursor">',"").replaceAll("<em>","").replaceAll("</em>","").replaceAll("<u>","").replaceAll("</u>","").replaceAll("<strong>","").replaceAll("</strong>","")})]})},tt=Object(h.a)({row:{display:"table-row"},selectRowButton:{background:"blue",fontWeight:"bold",color:"white",width:"50px",height:"50px",border:"1px solid white","&:hover":{color:"black"}}}),nt=function(e){var t=e.cellsRow,n=tt(),o=Object(u.c)((function(e){return e.popups.cellToUpdateCustomCells})),a=Object(u.c)((function(e){return e.cellsRows.selectedCells})),r=Object(u.c)((function(e){return e.cellsRows.letsUpdate})),c=Object(u.c)((function(e){return e.cellsRows.isSelecting})),i=Object(u.c)((function(e){return e.popups.letsUpdate})),l=Object(u.b)();return Object(De.jsxs)("div",{className:n.row,children:[i&&r&&Object(De.jsx)("div",{}),c&&Object(De.jsx)(f.a,{onClick:function(){var e;l((e=t.rowIndex,function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:re,rowIndex:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},className:n.selectRowButton,children:">"}),t&&t.cells&&t.cells.sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1})).map((function(e){return"empty"===e.type||"image"===e.type?Object(De.jsx)(Qe,{cell:e,cellsRow:t},"".concat(t.rowIndex)+e.columnIndex):Object(De.jsx)(et,{cell:e,cellsRow:t,isCustomCell:o&&o.includes(e)||a&&a.includes(e)},"".concat(t.rowIndex)+e.columnIndex)}))]})},ot="cell/UPDATE_CELL",at="cell/UPDATE_CELL_SUCCESS",rt="cell/UPDATE_CELL_FAILED",ct="cell/GET_CELL_FILE_SUCCESS",it="cell/GET_CELL_NAME_FILE_SUCCESS",lt="cell/GET_CELL_IMAGE_FILE_SUCCESS";function st(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a,r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:ot});try{a=L.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),r=[],t.cells.forEach((function(t){t.columnIndex!==e.columnIndex&&r.push(t)})),r.push(e),a.update({cells:r}),o({type:at,cell:e}),o({type:ye})}catch(i){c=i&&i.error?i.error:"System error",o({type:rt,error:c})}o({type:xe});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ut=Object(h.a)({container:{marginBottom:"10px",marginTop:"10px",background:"white",padding:"20px"},cont:{display:"flex",flexDirection:"row"},text:{padding:"5px",borderRadius:"5px",border:"1px solid black",marginRight:"10px"},submitButton:{marginTop:"10px",background:"blue",color:"white",padding:"10px 20px","&:hover":{background:"black"}},cancelButton:{marginTop:"10px",marginRight:"20px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}}}),pt=function(){var e=ut(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.popups.cellToUpdateCustomCells})),o=Object(u.c)((function(e){return e.popups.cellToUpdate})),a=Object(u.c)((function(e){return e.popups.letsUpdate})),r=Object(u.c)((function(e){return e.popups.cellsRow})),c=function(e){var t=[];return e.forEach((function(e){t.push({columnIndex:e.columnIndex,rowIndex:e.rowIndex})})),t};return void 0!==n?Object(De.jsxs)("div",{className:e.container,children:[a&&Object(De.jsx)("div",{}),Object(De.jsx)("h2",{children:"Select cells"}),Object(De.jsxs)("div",{className:e.cont,children:[n.map((function(t,n){return Object(De.jsx)("p",{className:e.text,children:null===t.name?"":(o=t.name,o.split("<br />").join(" "))},n);var o})),0===n.length?Object(De.jsx)("p",{className:e.text,children:"No cells are selected"}):Object(De.jsx)("p",{})]}),Object(De.jsx)(f.a,{className:e.cancelButton,onClick:function(){t(Re())},children:"Cancel"}),Object(De.jsx)(f.a,{className:e.submitButton,onClick:function(){t(st(Object(g.a)(Object(g.a)({},o.cell),{},{customCells:c(n)}),r))},children:"Submit custom cells"})]}):Object(De.jsx)("div",{})},dt=function(){var e=Object(u.c)((function(e){return e.tables.bigImage})),t=Object(u.c)((function(e){return e.tables.bigImageCell}));return void 0!==e?Object(De.jsx)("img",{style:{position:"absolute",top:"".concat(50*t.rowIndex+140+64+56+parseInt(t.bigImageTopMargin)+25-t.bigImageHeight/2,"px"),left:"".concat(100*t.columnIndex+180+parseInt(t.bigImageLeftMargin)+50-t.bigImageWidth/2,"px")},src:e,height:t.bigImageHeight,width:t.bigImageWidth,alt:"big"}):Object(De.jsx)("div",{})},bt=function(){var e=Object(u.c)((function(e){return e.tables.bigImage})),t=Object(u.b)();return void 0!==e?Object(De.jsx)(f.a,{style:{color:"white",background:"red",marginBottom:"10px",marginTop:"10px"},onClick:function(){t(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:N});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"TEMPORARILY REMOVE BIG IMAGE ( UNTIL REFRESH )"}):Object(De.jsx)("div",{})},ht=Object(h.a)({card:{marginLeft:"10px",background:"white",borderRadius:"10px",minHeight:"150px",flex:1,padding:"20px"},cont:{display:"flex",flexDirection:"row"},text:{padding:"5px",borderRadius:"5px",border:"1px solid black",marginRight:"10px"},name:{margin:"0px",flex:1},description:{margin:"0px",flex:1},cellContainer:{display:"table"},deleteButton:{marginTop:"10px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}},formatButton:{marginRight:"20px",marginTop:"10px",marginBottom:"10px",background:"blue",color:"white",padding:"10px 20px","&:hover":{background:"black"}},cancelButton:{marginTop:"10px",marginBottom:"10px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}}}),xt=function(){var e=ht(),t=Object(u.c)((function(e){return e.cellsRows.selectedCells})),n=Object(u.c)((function(e){return e.cellsRows.letsUpdate})),o=Object(u.b)();return Object(De.jsxs)("div",{children:[Object(De.jsx)(f.a,{className:e.formatButton,onClick:function(){o(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ke});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Format Cells"}),Object(De.jsx)(f.a,{className:e.formatButton,onClick:function(){o(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:te});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Select All"}),Object(De.jsx)(f.a,{className:e.cancelButton,onClick:function(){o(pe())},children:"CANCEL"}),Object(De.jsx)("h2",{children:"Select cells"}),n&&Object(De.jsx)("div",{}),Object(De.jsx)("div",{className:e.cont,children:t&&t.map((function(t,n){return Object(De.jsx)("p",{className:e.text,children:null===t.name?"":(o=t.name,o?o.split("<br />").join(" "):"")},n);var o}))}),t&&0!==t.length?Object(De.jsx)("span",{}):Object(De.jsx)("p",{children:"No cells are selected"})]})},ft=Object(h.a)({card:{marginLeft:"10px",background:"white",borderRadius:"10px",minHeight:"150px",flex:1,padding:"20px"},name:{margin:"0px",flex:1},description:{height:"20px",margin:"0px",flex:1},cellContainer:{display:"table"},deleteButton:{marginTop:"10px",background:"red",color:"white",padding:"10px 20px","&:hover":{background:"black"}},addToUserButton:{marginRight:"10px",marginTop:"10px",background:"blue",color:"white",padding:"10px 20px","&:hover":{background:"black"}},formatButton:{marginRight:"10px",marginTop:"10px",marginBottom:"10px",background:"blue",color:"white",padding:"10px 20px","&:hover":{background:"black"}}}),jt=function(e){var t=e.table,n=ft(),a=Object(o.useState)(!1),r=Object(b.a)(a,2),c=r[0],i=r[1],l=Object(u.c)((function(e){return e.cellsRows.cellsRows})),s=Object(u.c)((function(e){return e.tables.tableJustCreated})),p=Object(u.c)((function(e){return e.cellsRows.isSelecting})),d=Object(u.b)(),h=Object(o.useCallback)((function(){d(ce(t.id)),d(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:R});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[d,t]);Object(o.useEffect)((function(){s?(i(!0),setTimeout(h,3e3)):(c||d(ce(t.id)),i(!1))}),[d,t,s,c,h]);return Object(De.jsxs)(x.a,{className:n.card,children:[Object(De.jsx)("h2",{className:n.name,children:t.name}),Object(De.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description.replaceAll("<p","<span").replaceAll("</p>","</span><br/>")}}),Object(De.jsx)(bt,{}),Object(De.jsx)(pt,{}),c&&Object(De.jsx)(Ve.a,{}),!c&&Object(De.jsxs)("div",{children:[!p&&Object(De.jsx)(f.a,{className:n.formatButton,onClick:function(){d(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ne});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Select Cells"}),p&&Object(De.jsx)(xt,{}),Object(De.jsxs)("div",{className:n.cellContainer,children:[Object(De.jsx)(dt,{}),l.map((function(e){return Object(De.jsx)(nt,{cellsRow:e},l.indexOf(e))}))]}),Object(De.jsxs)("div",{children:[Object(De.jsx)(f.a,{className:n.addToUserButton,onClick:function(){d(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Se});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"ADD TABLE TO USER"}),Object(De.jsx)(f.a,{className:n.addToUserButton,onClick:function(){d(Le(l))},children:"DUPLICATE TABLE"}),Object(De.jsx)(f.a,{className:n.deleteButton,onClick:function(){d(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:T});try{a=L.collection("tables").doc(e),t.forEach((function(e){a.collection("cellsRows").doc(e.id).delete()})),a.delete(),o({type:E,tableId:e})}catch(c){r=c&&c.error?c.error:"System error",o({type:I,error:r})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,l))},children:"Delete"})]})]})]})},mt=n(400),gt=n(54),Ot=n.n(gt),vt=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},quillContainer:{display:"flex",flexDirection:"row",marginTop:"10px"},editor:{marginLeft:"10px",flex:1},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{marginTop:"60px",border:"1px solid black",background:"green",color:"white",marginRight:"20px","&:hover":{background:"black"}}}),wt=function(){var e=a.a.useState(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=a.a.useState(""),c=Object(b.a)(r,2),i=c[0],l=c[1],s=Object(u.c)((function(e){return e.popups.cellsRowsToDuplicate})),p=vt(),d=Object(u.b)(),h=function(){d(Pe())};return Object(De.jsx)("div",{className:p.popupbox,children:Object(De.jsxs)("div",{className:p.box,children:[Object(De.jsx)("span",{className:p.closeicon,onClick:h,children:"x"}),Object(De.jsx)("h2",{children:void 0===s?"Create table":"Duplicate table"}),Object(De.jsx)(mt.a,{required:!0,fullWidth:!0,label:"Name",name:"name",variant:"outlined",placeholder:"Name",value:n,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){o(e.target.value)}}),Object(De.jsxs)("div",{className:p.quillContainer,children:[Object(De.jsx)("p",{className:p.text,children:"Enter description:"}),Object(De.jsx)(Ot.a,{theme:"snow",className:p.editor,value:i,onChange:function(e){l(e)}})]}),Object(De.jsx)(f.a,{className:p.button,onClick:function(){d(void 0!==s?function(e,t,n){return function(){var o=Object(w.a)(v.a.mark((function o(a){var r;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=L.collection("tables"),o.next=3,r.add({name:e,description:t}).then((function(o){n.forEach((function(e){r.doc(o.id).collection("cellsRows").add({tableId:o.id,rowIndex:e.rowIndex}).then((function(t){var n=[];e.cells.forEach((function(e){return n.push(Object(g.a)(Object(g.a)({},e),{},{tableId:o.id,cellsRowId:t.id}))})),r.doc(o.id).collection("cellsRows").doc(t.id).update({cells:n})}))})),a({type:S,table:{id:o.id,name:e,description:t}})}));case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}(n,i,s):function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=L.collection("tables"),n.next=3,a.add({name:e,description:t}).then((function(n){U(n.id).forEach((function(e){a.doc(n.id).collection("cellsRows").add({tableId:e.tableId,rowIndex:e.rowIndex}).then((function(t){var o=[];e.cells.forEach((function(e){return o.push(Object(g.a)(Object(g.a)({},e),{},{tableId:n.id,cellsRowId:t.id}))})),a.doc(n.id).collection("cellsRows").doc(t.id).update({cells:o})}))})),o({type:S,table:{id:n.id,name:e,description:t}})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,i)),h()},children:void 0===s?"Create Default":"Duplicate"}),void 0===s&&Object(De.jsx)(f.a,{className:p.button,onClick:function(){d(function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(o){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=L.collection("tables"),n.next=3,a.add({name:e,description:t}).then((function(n){J(n.id).forEach((function(e){a.doc(n.id).collection("cellsRows").add({tableId:e.tableId,rowIndex:e.rowIndex}).then((function(t){var o=[];e.cells.forEach((function(e){return o.push(Object(g.a)(Object(g.a)({},e),{},{tableId:n.id,cellsRowId:t.id}))})),a.doc(n.id).collection("cellsRows").doc(t.id).update({cells:o})}))})),o({type:S,table:{id:n.id,name:e,description:t}})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,i)),h()},children:"Create Template 1"})]})})},yt=n(392),Ct=n(397),kt=n(402),St=n(403),Tt=n(391),Et=n(396),It=(n(154),Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"},noTypeButton:{marginTop:"10px",background:"red",marginRight:"10px",color:"white","&:hover":{background:"black"}},quillContainer:{display:"flex",flexDirection:"row",marginTop:"10px"},editor:{marginLeft:"10px",flex:1}})),Bt=function(){var e=a.a.useState(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(b.a)(c,2),l=i[0],s=i[1],p=a.a.useState(""),d=Object(b.a)(p,2),h=d[0],x=d[1],j=a.a.useState(""),m=Object(b.a)(j,2),O=m[0],y=m[1],C=a.a.useState(""),k=Object(b.a)(C,2),S=k[0],T=k[1],E=a.a.useState(""),I=Object(b.a)(E,2),B=I[0],_=I[1],R=a.a.useState(""),N=Object(b.a)(R,2),A=N[0],L=N[1],P=a.a.useState(""),D=Object(b.a)(P,2),U=D[0],W=D[1],F=a.a.useState(""),H=Object(b.a)(F,2),G=H[0],M=H[1],z=a.a.useState(""),q=Object(b.a)(z,2),J=q[0],K=q[1],Y=a.a.useState(""),V=Object(b.a)(Y,2),X=V[0],Q=V[1],Z=a.a.useState(""),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ne=a.a.useState(""),oe=Object(b.a)(ne,2),ae=oe[0],re=oe[1],ce=a.a.useState(""),ie=Object(b.a)(ce,2),le=ie[0],se=ie[1],ue=a.a.useState(""),pe=Object(b.a)(ue,2),de=pe[0],be=pe[1],he=Object(u.c)((function(e){return e.popups.cell})),xe=Object(u.c)((function(e){return e.popups.cellsRow})),fe=It(),je=Object(u.b)();Object(o.useEffect)((function(){he&&(he.sumAll?r(he.sumAll):(s(void 0===he.name?"":he.name),W(he.fontSize),M(he.fontColor),T(he.actionType),K(he.borderColor),_(he.typeActionType),L(he.typeActionTypeName),x(he.color),y(he.rows),Q(he.baseTen),se(he.baseFour),re(he.baseHundred),te(he.baseThree),be(he.databaseID)))}),[he]);var me=["selectrows","selecttype","custom"],ge=["selecttypeall","selecttyperows"],Oe=["Select Rows","Select Type","Custom"],we=["Select All Cells of Type","Select Type Rows"],ye=function(){je(Pe())};return Object(De.jsx)("div",{className:fe.popupbox,children:Object(De.jsxs)("div",{className:fe.box,children:[Object(De.jsx)("span",{className:fe.closeicon,onClick:ye,children:"x"}),Object(De.jsx)("h2",{className:fe.header,children:"Update Action"}),Object(De.jsx)("div",{children:Object(De.jsx)(yt.a,{value:n,control:Object(De.jsx)(Ct.a,{color:"default",onClick:function(){r(!n)}}),label:"Sum all?",checked:n,labelPlacement:"start"})}),!n&&Object(De.jsxs)("div",{children:[Object(De.jsxs)("div",{className:fe.quillContainer,children:[Object(De.jsx)("p",{className:fe.text,children:"Enter name:"}),Object(De.jsx)(Ot.a,{theme:"snow",className:fe.editor,value:l,onChange:function(e){s(e)}})]}),Object(De.jsx)("h4",{style:{marginTop:"60px"},children:"Hint: Standard mobile font is 12. 3 Rows can pass into cell."}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Font size",name:"font_size",variant:"outlined",placeholder:"Font size",value:U,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){W(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Font color",name:"font_color",variant:"outlined",placeholder:"Font color",value:G,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){M(e.target.value)}}),Object(De.jsx)("h3",{children:"Format cell"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Color",name:"color",variant:"outlined",placeholder:"Cell color",value:h,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){x(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Border Color",name:"border_color",variant:"outlined",placeholder:"Border Color",value:J,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){K(e.target.value)}}),Object(De.jsx)("h2",{children:"Bluetooth"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 10",name:"base10",variant:"outlined",placeholder:"Base 10",value:X,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){Q(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 44",name:"base44",variant:"outlined",placeholder:"Base 44",value:le,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){se(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 100",name:"base100",variant:"outlined",placeholder:"Base 100",value:ae,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){re(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 336",name:"base336",variant:"outlined",placeholder:"Base 336",value:ee,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){te(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Database ID",name:"databaseID",variant:"outlined",placeholder:"Database ID",value:de,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){be(e.target.value)}}),Object(De.jsxs)(Tt.a,{className:fe.formControl,children:[Object(De.jsx)(kt.a,{id:"label",children:"Action Type"}),Object(De.jsx)(Et.a,{id:"select",value:S||"",onChange:function(e){T(e.target.value)},children:me.map((function(e,t){return Object(De.jsx)(St.a,{value:e,children:Oe[t]},e)}))})]}),S===me[1]&&Object(De.jsxs)(Tt.a,{className:fe.formControl,children:[Object(De.jsx)(kt.a,{id:"label",children:"Action Type"}),Object(De.jsx)(Et.a,{id:"select",value:B||"",onChange:function(e){_(e.target.value)},children:ge.map((function(e,t){return Object(De.jsx)(St.a,{value:e,children:we[t]},e)}))})]}),S===me[1]&&Object(De.jsx)(mt.a,{fullWidth:!0,label:"Type name",name:"Type name",variant:"outlined",placeholder:"Enter type name",value:A||"",style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){L(e.target.value)}}),(S===me[0]||S===me[1]&&B===ge[1])&&Object(De.jsx)(mt.a,{fullWidth:!0,label:"Rows",name:"rows",variant:"outlined",placeholder:"Enter row indexes separated with Whitespaces ( Begining with 0 )",value:O||"",style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){y(e.target.value)}})]}),"notype"!==he.type&&Object(De.jsx)(f.a,{className:fe.noTypeButton,onClick:function(){je(st(Object(g.a)(Object(g.a)({},he),{},{name:"",nameFilePath:"",fontColor:"",borderColor:"",color:"white",actionType:"",typeActionType:"",typeActionTypeName:"",topBorder:2,bottomBorder:2,leftBorder:2,rightBorder:2,fontSize:"",rows:"",sumAll:!1,type:"notype",baseTen:"",baseHundred:"",baseThree:"",baseFour:"",databaseId:""}),xe)),ye()},children:"MAKE NO TYPE"}),Object(De.jsx)(f.a,{className:fe.button,onClick:function(){"custom"===S?je(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ve,cell:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({cell:Object(g.a)(Object(g.a)({},he),{},{name:void 0===l?"":l.split("\n").join("<br />"),color:void 0===h?"":h,actionType:void 0===S?"":S,typeActionType:void 0===B?"":B,typeActionTypeName:void 0===A?"":A,fontColor:void 0===G?"":G,borderColor:void 0===J?"":J,fontSize:void 0===U?"":U,rows:void 0===O?"":O,sumAll:n,type:"action",baseTen:void 0===X?"":X,baseFour:void 0===le?"":le,baseHundred:void 0===ae?"":ae,baseThree:void 0===ee?"":ee,databaseID:void 0===de?"":de})})):(je(st(Object(g.a)(Object(g.a)({},he),{},{name:void 0===l?"":l.split("\n").join("<br />"),color:void 0===h?"":h,actionType:void 0===S?"":S,typeActionType:void 0===B?"":B,typeActionTypeName:void 0===A?"":A,fontColor:void 0===G?"":G,fontSize:void 0===U?"":U,borderColor:void 0===J?"":J,rows:void 0===O?"":O,sumAll:n,type:"action",baseTen:void 0===X?"":X,baseFour:void 0===le?"":le,baseHundred:void 0===ae?"":ae,baseThree:void 0===ee?"":ee,databaseID:void 0===de?"":de}),xe)),ye())},children:"Submit"})]})})},_t=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},makeEmptyButton:{border:"1px solid black",color:"white",background:"blue",marginTop:"10px",marginRight:"20px"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"}}),Rt=function(){var e=a.a.useState(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(u.c)((function(e){return e.popups.cell})),c=Object(u.c)((function(e){return e.popups.cellsRow})),i=_t(),l=Object(u.b)();return Object(De.jsx)("div",{className:i.popupbox,children:Object(De.jsxs)("div",{className:i.box,children:[Object(De.jsx)("span",{className:i.closeicon,onClick:function(){l(Pe())},children:"x"}),Object(De.jsx)("h2",{className:i.header,children:"Select cell type"}),Object(De.jsx)("div",{children:Object(De.jsx)(yt.a,{value:n,control:Object(De.jsx)(Ct.a,{color:"default",onClick:function(){o(!n)}}),label:"Is it an action cell?",checked:n,labelPlacement:"start"})}),Object(De.jsx)(f.a,{className:i.makeEmptyButton,onClick:function(){l(st(Object(g.a)(Object(g.a)({},r),{},{type:"empty"}),c))},children:"Make Empty"}),Object(De.jsx)(f.a,{className:i.button,onClick:function(){l(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Oe,isAction:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))},children:"Submit Type Cell"})]})})},Nt=n(79),At="snackbar/SHOW_SNACKBAR",Lt="snackbar/CLOSE_SNACKBAR";function Pt(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:At,message:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Dt=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"95vh",marginTop:"calc(5vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},header:{margin:"10px 0px"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(5vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{marginTop:"10px",marginBottom:"10px",border:"1px solid black"},submitButton:{marginTop:"10px",marginBottom:"10px",background:"green",color:"white",border:"1px solid black","&:hover":{background:"black"}},quillContainer:{display:"flex",flexDirection:"row",marginTop:"10px"},editor:{marginLeft:"10px",flex:1},fileNameContainer:{marginTop:"10px",marginBottom:"20px"},removeFileButton:{marginLeft:"30px"},borderInputcontainer:{marginTop:"50px"},borderText:{marginBottom:"5px"},noTypeButton:{marginTop:"10px",background:"red",marginRight:"10px",marginBottom:"10px",color:"white","&:hover":{background:"black"}}}),Ut=function(){var e=a.a.useState(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(b.a)(c,2),l=i[0],s=i[1],p=a.a.useState(""),d=Object(b.a)(p,2),h=d[0],x=d[1],j=a.a.useState(""),m=Object(b.a)(j,2),O=m[0],y=m[1],C=a.a.useState(""),k=Object(b.a)(C,2),S=k[0],T=k[1],E=a.a.useState(void 0),I=Object(b.a)(E,2),B=I[0],_=I[1],R=a.a.useState(void 0),N=Object(b.a)(R,2),A=N[0],D=N[1],U=a.a.useState(""),W=Object(b.a)(U,2),F=W[0],H=W[1],G=a.a.useState(""),M=Object(b.a)(G,2),z=M[0],q=M[1],J=a.a.useState(""),K=Object(b.a)(J,2),Y=K[0],V=K[1],X=a.a.useState(""),Q=Object(b.a)(X,2),Z=Q[0],$=Q[1],ee=a.a.useState(""),te=Object(b.a)(ee,2),ne=te[0],oe=te[1],ae=a.a.useState(""),re=Object(b.a)(ae,2),ce=re[0],ie=re[1],le=a.a.useState(""),se=Object(b.a)(le,2),ue=se[0],pe=se[1],de=a.a.useState(""),be=Object(b.a)(de,2),he=be[0],fe=be[1],je=a.a.useState(""),me=Object(b.a)(je,2),ge=me[0],Oe=me[1],ve=a.a.useState(""),we=Object(b.a)(ve,2),ye=we[0],Ce=we[1],ke=a.a.useState(""),Se=Object(b.a)(ke,2),Te=Se[0],Ee=Se[1],Ie=Object(u.c)((function(e){return e.popups.cell})),Be=Object(u.c)((function(e){return e.popups.cellFile})),_e=Object(u.c)((function(e){return e.popups.cellNameFile})),Re=Object(u.c)((function(e){return e.popups.cellsRow})),Ne=Dt(),Ae=Object(u.b)();Object(o.useEffect)((function(){var e,t;Ie&&(r(void 0===Ie.name?"":Ie.name),s(Ie.color),Ce(Ie.fontSize),Ee(Ie.fontColor),x(Ie.borderColor),T(void 0===Ie.description?"":Ie.description),H(Ie.topBorder),q(Ie.bottomBorder),V(Ie.leftBorder),$(Ie.rightBorder),oe(Ie.baseTen),fe(Ie.baseFour),pe(Ie.baseHundred),ie(Ie.baseThree),Oe(Ie.databaseID),void 0!==Ie.nameFilePath&&""!==Ie.nameFilePath&&Ae((t=Ie.nameFilePath,function(){var e=Object(w.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"cell/GET_CELL_NAME_FILE"});try{P.ref(t).getMetadata().then((function(e){n({type:it,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_NAME_FILE_FAILED",error:o})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),void 0!==Ie.filePath&&""!==Ie.filePath&&Ae((e=Ie.filePath,function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"cell/GET_CELL_FILE"});try{P.ref(e).getMetadata().then((function(e){n({type:ct,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_FILE_FAILED",error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))}),[Ie,Ae]);var Le=function(){Ae(Pe())},Ue=function(e){Ae(Pt(e))};return Object(De.jsx)("div",{className:Ne.popupbox,children:Object(De.jsxs)("div",{className:Ne.box,children:[Object(De.jsx)("span",{className:Ne.closeicon,onClick:Le,children:"x"}),Object(De.jsx)("h2",{className:Ne.header,children:"Update Information"}),Object(De.jsxs)("div",{className:Ne.quillContainer,children:[Object(De.jsx)("p",{className:Ne.text,children:"Enter name:"}),Object(De.jsx)(Ot.a,{theme:"snow",className:Ne.editor,value:n,onChange:function(e){r(e)}})]}),Object(De.jsx)(Nt.FilePicker,{extensions:["png","jpg","jpeg"],onChange:function(e){D(e)},onError:Ue,children:Object(De.jsx)(f.a,{style:{marginTop:"60px"},className:Ne.button,children:"Click to upload NAME image"})}),(A||_e)&&Object(De.jsxs)("div",{className:Ne.fileNameContainer,children:["Uploaded image:",Object(De.jsx)("strong",{children:void 0===A?_e.name:A.name}),Object(De.jsx)("button",{className:Ne.removeFileButton,onClick:function(){D(void 0)},children:"Remove"})]}),Object(De.jsx)("h4",{children:"Hint: Standard mobile font is 12. 3 Rows can pass into cell."}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Font size",name:"font_size",variant:"outlined",placeholder:"Font size",value:ye,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){Ce(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Font color",name:"font_color",variant:"outlined",placeholder:"Font color",value:Te,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){Ee(e.target.value)}}),Object(De.jsx)("h3",{children:"Format cell"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Color",name:"color",variant:"outlined",placeholder:"Cell color",value:l,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Border Color",name:"border_color",variant:"outlined",placeholder:"Border Color",value:h,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){x(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Type for action",name:"type_for_action",variant:"outlined",placeholder:"Type for action",value:O,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){y(e.target.value)}}),Object(De.jsx)(Nt.FilePicker,{extensions:["pdf","png","jpg","jpeg"],onChange:function(e){_(e)},onError:Ue,children:Object(De.jsx)(f.a,{className:Ne.button,children:"Click to upload file"})}),(B||Be)&&Object(De.jsxs)("div",{className:Ne.fileNameContainer,children:["Uploaded file:"," ",Object(De.jsx)("strong",{children:void 0===B?Be.name:B.name}),Object(De.jsx)("button",{className:Ne.removeFileButton,onClick:function(){_(void 0)},children:"Remove"})]}),Object(De.jsxs)("div",{className:Ne.quillContainer,children:[Object(De.jsx)("p",{className:Ne.text,children:"Enter description:"}),Object(De.jsx)(Ot.a,{theme:"snow",className:Ne.editor,value:S,onChange:function(e){T(e)}})]}),Object(De.jsxs)("div",{className:Ne.borderInputcontainer,children:[Object(De.jsx)("p",{className:Ne.borderText,children:"Enter Borders Width In Numbers"}),Object(De.jsx)(mt.a,{name:"top",variant:"outlined",label:"Top",placeholder:"Top",value:F,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){H(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Right",name:"right",variant:"outlined",placeholder:"Right",value:Z,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){$(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Bottom",name:"bottom",variant:"outlined",placeholder:"Bottom",value:z,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){q(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Left",name:"left",variant:"outlined",placeholder:"Left",value:Y,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){V(e.target.value)}})]}),Object(De.jsx)("h2",{children:"Bluetooth"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 10",name:"base10",variant:"outlined",placeholder:"Base 10",value:ne,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){oe(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 44",name:"base44",variant:"outlined",placeholder:"Base 44",value:he,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){fe(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 100",name:"base100",variant:"outlined",placeholder:"Base 100",value:ue,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){pe(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Base 336",name:"base336",variant:"outlined",placeholder:"Base 336",value:ce,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){ie(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Database ID",name:"databaseID",variant:"outlined",placeholder:"Database ID",value:ge,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){Oe(e.target.value)}}),Object(De.jsxs)("div",{children:["notype"!==Ie.type&&Object(De.jsx)(f.a,{className:Ne.noTypeButton,onClick:function(){Ae(st(Object(g.a)(Object(g.a)({},Ie),{},{name:"",nameFilePath:"",description:"",fontColor:"",borderColor:"",color:"white",typeForAction:"",topBorder:2,bottomBorder:2,leftBorder:2,rightBorder:2,type:"notype",file:"",nameFile:"",fontSize:"",baseTen:"",baseHundred:"",baseThree:"",baseFour:"",databaseId:""}),Re)),Le()},children:"MAKE NO TYPE"}),Object(De.jsx)(f.a,{className:Ne.submitButton,onClick:function(){Ae(function(e,t,n,o){return function(){var a=Object(w.a)(v.a.mark((function a(r){var c,i,l,s,u,p;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r({type:ot}),a.prev=1,c="",i="",void 0===t){a.next=10;break}return c="/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+t.name,a.next=8,P.ref(c).put(t);case 8:a.next=11;break;case 10:e.filePath&&""!==e.filePath&&(c=e.filePath);case 11:if(void 0===n){a.next=17;break}return i="/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+n.name,a.next=15,P.ref(i).put(n);case 15:a.next=18;break;case 17:e.nameFilePath&&""!==e.nameFilePath&&(i=e.nameFilePath);case 18:l=L.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),s=Object(g.a)(Object(g.a)({},e),{},{filePath:c,nameFilePath:i}),u=[],o.cells.forEach((function(e){e.columnIndex!==s.columnIndex&&u.push(e)})),u.push(s),console.log(s),l.update({cells:u}),r({type:at,cell:s}),a.next=34;break;case 28:a.prev=28,a.t0=a.catch(1),p=a.t0&&a.t0.error?a.t0.error:"System error",console.log(p),console.log(a.t0),r({type:rt,error:p});case 34:r({type:xe});case 35:case"end":return a.stop()}}),a,null,[[1,28]])})));return function(e){return a.apply(this,arguments)}}()}(Object(g.a)(Object(g.a)({},Ie),{},{name:n,description:void 0===S?"":S,color:l,fontColor:void 0===Te?"":Te,borderColor:void 0===h?"":h,fontSize:void 0===ye?null:ye,typeForAction:void 0===O?"":O,topBorder:F,bottomBorder:z,leftBorder:Y,rightBorder:Z,type:"info",baseTen:void 0===ne?"":ne,baseFour:void 0===he?"":he,baseHundred:void 0===ue?"":ue,baseThree:void 0===ce?"":ce,databaseID:void 0===ge?"":ge}),B,A,Re)),Le()},children:"Submit"})]})]})})},Wt=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}},notypeButton:{border:"1px solid black",background:"blue",marginRight:"20px",color:"white",marginTop:"10px","&:hover":{background:"black"}}}),Ft=function(){var e=Object(u.c)((function(e){return e.popups.cell})),t=Object(u.c)((function(e){return e.popups.cellsRow})),n=Wt(),o=Object(u.b)();return Object(De.jsx)("div",{className:n.popupbox,children:Object(De.jsxs)("div",{className:n.box,children:[Object(De.jsx)("span",{className:n.closeicon,onClick:function(){o(Pe())},children:"x"}),Object(De.jsx)(f.a,{className:n.notypeButton,onClick:function(){o(st(Object(g.a)(Object(g.a)({},e),{},{type:"notype"}),t))},children:"MAKE CELL NOTYPE"}),Object(De.jsx)(f.a,{className:n.button,onClick:function(){o(Ne())},children:"ADD IMAGE"})]})})},Ht=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},fileNameContainer:{marginTop:"10px",marginBottom:"20px"},removeFileButton:{marginLeft:"30px"},fileButton:{marginTop:"10px",marginBottom:"10px",border:"1px solid black"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px","&:hover":{background:"black"}},noTypeButton:{background:"red",marginLeft:"10px",marginTop:"10px",color:"white","&:hover":{background:"black"}}}),Gt=function(){var e=a.a.useState(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(b.a)(c,2),l=i[0],s=i[1],p=a.a.useState(void 0),d=Object(b.a)(p,2),h=d[0],x=d[1],j=a.a.useState(""),m=Object(b.a)(j,2),O=m[0],y=m[1],C=a.a.useState(""),k=Object(b.a)(C,2),S=k[0],T=k[1],E=Object(u.c)((function(e){return e.popups.cell})),I=Object(u.c)((function(e){return e.popups.cellImageFile})),B=Object(u.c)((function(e){return e.popups.cellsRow})),_=Ht(),R=Object(u.b)();Object(o.useEffect)((function(){var e;E&&(s(void 0===E.bigImageHeight?"":E.bigImageHeight),r(void 0===E.bigImageWidth?"":E.bigImageWidth),y(void 0===E.bigImageLeftMargin?"":E.bigImageLeftMargin),T(void 0===E.bigImageTopMargin?"":E.bigImageTopMargin),E&&void 0!==E.bigImagePath&&null!==E.bigImagePath&&""!==E.bigImagePath&&R((e=E.bigImagePath,function(){var t=Object(w.a)(v.a.mark((function t(n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"cell/GET_CELL_IMAGE_FILE"});try{P.ref(e).getMetadata().then((function(e){n({type:lt,file:e})}))}catch(a){o=a&&a.error?a.error:"System error",n({type:"cell/GET_CELL_IMAGE_FILE_FAILED",error:o})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))}),[E,R]);var N=function(){R(Pe())};return Object(De.jsx)("div",{className:_.popupbox,children:Object(De.jsxs)("div",{className:_.box,children:[Object(De.jsx)("span",{className:_.closeicon,onClick:N,children:"x"}),Object(De.jsx)(Nt.FilePicker,{extensions:["png","jpg","jpeg"],onChange:function(e){x(e)},onError:function(e){R(Pt(e))},maxSize:1e5,children:Object(De.jsx)(f.a,{className:_.fileButton,children:"Click to upload image"})}),(h||I)&&Object(De.jsxs)("div",{className:_.fileNameContainer,children:["Uploaded image:"," ",Object(De.jsx)("strong",{children:void 0===h?I.name:h.name}),Object(De.jsx)("button",{className:_.removeFileButton,onClick:function(){x(void 0)},children:"Remove"})]}),Object(De.jsx)("h3",{children:"Single cell width = 100 and height = 50"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Width",name:"width",variant:"outlined",placeholder:"Enter width",value:n,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){r(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Height",name:"height",variant:"outlined",placeholder:"Enter height",value:l,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(De.jsxs)("div",{style:{marginBottom:"10px",marginTop:"10px"},children:[Object(De.jsx)(mt.a,{label:"Top margin",name:"topMargin",variant:"outlined",placeholder:"Top margin",value:S,style:{marginRight:"10px",maxWidth:"140px"},onChange:function(e){T(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Left margin",name:"leftMargin",variant:"outlined",placeholder:"Left margin",value:O,style:{maxWidth:"140px"},onChange:function(e){y(e.target.value)}})]}),Object(De.jsx)(f.a,{className:_.button,onClick:function(){R(function(e,t,n){return function(){var o=Object(w.a)(v.a.mark((function o(a){var r,c,i,l;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a({type:ot}),o.prev=1,r=void 0!==t?"/"+e.tableId+"/"+e.cellsRowId+"/"+e.columnIndex+"/"+t.name:e.bigImagePath,void 0===t){o.next=6;break}return o.next=6,P.ref(r).put(t);case 6:c=L.collection("tables").doc(e.tableId).collection("cellsRows").doc(e.cellsRowId),i=Object(g.a)(Object(g.a)({},e),{},{bigImagePath:r}),l=[],n.cells.forEach((function(e){e.columnIndex!==i.columnIndex&&l.push(e)})),l.push(i),c.update({cells:l}),a({type:at,cell:i}),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),a({type:rt,e:o.t0});case 18:a({type:xe});case 19:case"end":return o.stop()}}),o,null,[[1,15]])})));return function(e){return o.apply(this,arguments)}}()}(Object(g.a)(Object(g.a)({},E),{},{type:"image",bigImageWidth:n,bigImageHeight:l,bigImageTopMargin:""===S?0:S,bigImageLeftMargin:""===O?0:O}),h,B))},children:"SUBMIT"}),Object(De.jsx)(f.a,{className:_.noTypeButton,onClick:function(){R(st(Object(g.a)(Object(g.a)({},E),{},{bigImageWidth:"",bigImageHeight:"",bigImageTopMargin:"",bigImageLeftMargin:"",bigImagePath:null,name:"",description:"",color:"white",typeForAction:"",topBorder:2,bottomBorder:2,leftBorder:2,rightBorder:2,type:"notype",file:"",nameFile:"",fontSize:"",baseTen:"",baseHundred:"",baseThree:"",baseFour:"",databaseId:""}),B)),N()},children:"MAKE NO TYPE"})]})})},Mt=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"95vh",marginTop:"calc(5vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},header:{margin:"10px 0px"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(5vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},borderInputcontainer:{marginTop:"10px"},borderText:{marginBottom:"5px"},submitButton:{marginTop:"10px",marginBottom:"10px",background:"green",color:"white",border:"1px solid black","&:hover":{background:"black"}}}),zt=function(){var e=a.a.useState(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=a.a.useState(""),c=Object(b.a)(r,2),i=c[0],l=c[1],s=a.a.useState(""),p=Object(b.a)(s,2),d=p[0],h=p[1],x=a.a.useState(""),j=Object(b.a)(x,2),m=j[0],g=j[1],O=a.a.useState(""),y=Object(b.a)(O,2),C=y[0],k=y[1],S=a.a.useState(""),T=Object(b.a)(S,2),E=T[0],I=T[1],B=a.a.useState(""),_=Object(b.a)(B,2),R=_[0],N=_[1],A=a.a.useState(""),L=Object(b.a)(A,2),P=L[0],D=L[1],U=a.a.useState(!1),W=Object(b.a)(U,2),F=W[0],H=W[1],G=Object(u.c)((function(e){return e.cellsRows.selectedCells})),M=Object(u.c)((function(e){return e.cellsRows.cellsRows})),z=Mt(),q=Object(u.b)(),J=function(){q(Pe())};return Object(De.jsx)("div",{className:z.popupbox,children:Object(De.jsxs)("div",{className:z.box,children:[Object(De.jsx)("span",{className:z.closeicon,onClick:J,children:"x"}),Object(De.jsx)("h2",{className:z.header,children:"Format Cells"}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Color",name:"color",variant:"outlined",placeholder:"Cell color",value:i,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){l(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Font color",name:"fontcolor",variant:"outlined",placeholder:"Cell font color",value:n,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){o(e.target.value)}}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Border Color",name:"border_color",variant:"outlined",placeholder:"Border Color",value:P,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){D(e.target.value)}}),Object(De.jsx)("div",{children:Object(De.jsx)(yt.a,{value:F,control:Object(De.jsx)(Ct.a,{color:"default",onClick:function(){H(!F)}}),label:"Is box border?",checked:F,labelPlacement:"start"})}),!F&&Object(De.jsxs)("div",{className:z.borderInputcontainer,children:[Object(De.jsx)("p",{className:z.borderText,children:"Enter Borders Width In Numbers"}),Object(De.jsx)(mt.a,{name:"top",variant:"outlined",label:"Top",placeholder:"Top",value:m,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){g(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Right",name:"right",variant:"outlined",placeholder:"Right",value:R,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){N(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Bottom",name:"bottom",variant:"outlined",placeholder:"Bottom",value:C,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){k(e.target.value)}}),Object(De.jsx)(mt.a,{label:"Left",name:"left",variant:"outlined",placeholder:"Left",value:E,style:{margin:"10px",maxWidth:"90px"},onChange:function(e){I(e.target.value)}})]}),F&&Object(De.jsx)("div",{children:Object(De.jsx)(mt.a,{label:"Border width",name:"width",variant:"outlined",placeholder:"Border width",value:d,style:{margin:"10px"},onChange:function(e){h(e.target.value)}})}),Object(De.jsx)(f.a,{className:z.submitButton,onClick:function(){q(function(e,t,n){return function(){var o=Object(w.a)(v.a.mark((function o(a){return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log(e),e.isBoxBorder?ie(a,e,t,n):le(a,e,t,n);case 2:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}({color:i,top:m,bottom:C,left:E,right:R,isBoxBorder:F,width:d,borderColor:P,fontColor:n},G,M)),J()},children:"Submit"})]})})},qt=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},makeEmptyButton:{border:"1px solid black",color:"white",background:"blue",marginTop:"10px",marginRight:"20px"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"}}),Jt=function(){var e=a.a.useState(void 0),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(u.c)((function(e){return e.user.users})),c=Object(u.c)((function(e){return e.tables.selectedTable})),i=qt(),l=Object(u.b)(),s=function(){l(Pe())};return Object(De.jsx)("div",{className:i.popupbox,children:Object(De.jsxs)("div",{className:i.box,children:[Object(De.jsx)("span",{className:i.closeicon,onClick:s,children:"x"}),Object(De.jsx)("h2",{className:i.header,children:"Select user"}),Object(De.jsx)("div",{children:Object(De.jsxs)(Tt.a,{className:i.formControl,children:[Object(De.jsx)(kt.a,{id:"label",children:"User"}),Object(De.jsx)(Et.a,{id:"demo-simple-select-helper",value:n||"",label:"User",onChange:function(e){o(e.target.value)},children:r.map((function(e,t){return Object(De.jsx)(St.a,{value:e,children:Object(De.jsx)("em",{children:e.email})},t)}))})]})}),Object(De.jsx)(f.a,{className:i.button,onClick:function(){var e,t;l((e=n,t=c,function(){var n=Object(w.a)(v.a.mark((function n(o){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o({type:ze});try{(a=L.collection("users").doc(e.id).collection("tables")).get().then((function(e){a.add({tableId:t.id,tableOrder:e.size,name:t.name}),o({type:qe})}))}catch(r){o({type:Je})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),s()},children:"Submit"})]})})},Kt="devices/LOAD_DEVICES",Yt="devices/LOAD_DEVICES_SUCCESS",Vt="devices/LOAD_DEVICES_FAILED",Xt="devices/LOAD_MAPPINGS",Qt="devices/LOAD_MAPPINGS_SUCCESS",Zt="devices/LOAD_MAPPINGS_FAILED",$t="devices/DELETE_MAPPING",en="devices/DELETE_MAPPING_SUCCESS",tn="devices/DELETE_MAPPING_FAILED",nn="devices/ADD_RASP_TO_USER",on="devices/ADD_RASP_TO_USER_SUCCESS",an="devices/ADD_RASP_TO_USER_FAILED",rn="devices/LOAD_SESSION_LOGS",cn="devices/LOAD_SESSION_LOGS_SUCCESS",ln="devices/LOAD_SESSION_LOGS_FAILED";function sn(e,t,n){return function(){var o=Object(w.a)(v.a.mark((function o(a){var r,c,i,l,s,u,p,d;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a({type:rn}),r=(new Date).getTime(),c=new Date(r-864e5).toJSON().slice(0,10),i=void 0===t?c:new Date(t).toJSON().slice(0,10),l=void 0===n?(new Date).toJSON().slice(0,10):n.toJSON().slice(0,10),s="https://fm.ki.lt/api/v1/dataexchange/data?api_token=6c3ec4bbb801163e98fec95acf555193fea410ea21270ab5fd3c58f8c264fba1d1df794fb2ee97a24ab5d7de424e3010&session_id="+e+"&start="+i+"&end="+l,o.prev=7,u=new Request(s,{method:"GET",headers:{"Content-Type":"application/json"}}),o.next=11,fetch(u).then();case 11:if(!(p=o.sent).ok){o.next=20;break}return o.next=15,p.json();case 15:d=o.sent,a({type:cn,sessionData:d.data}),void 0===t&&a({type:Te}),o.next=21;break;case 20:a({type:ln});case 21:o.next=26;break;case 23:o.prev=23,o.t0=o.catch(7),a({type:ln});case 26:case"end":return o.stop()}}),o,null,[[7,23]])})));return function(e){return o.apply(this,arguments)}}()}var un=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},boxik:{display:"flex",color:"black",background:"white",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px"},columns:{display:"flex"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},makeEmptyButton:{border:"1px solid black",color:"white",background:"blue",marginTop:"10px",marginRight:"20px"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"},deleteButton:{marginTop:"10px",background:"red",color:"white",padding:"10px 20px",fontWeight:"bold",marginLeft:"auto",fontSize:"30px","&:hover":{background:"black"}}}),pn=function(){var e=a.a.useState(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],r=a.a.useState(!1),c=Object(b.a)(r,2),i=c[0],l=c[1],s=a.a.useState(void 0),p=Object(b.a)(s,2),d=p[0],h=p[1],x=a.a.useState([]),j=Object(b.a)(x,2),m=j[0],g=j[1],O=Object(u.c)((function(e){return e.user.users})),y=Object(u.c)((function(e){return e.devices.mappings})),C=a.a.useState(""),k=Object(b.a)(C,2),S=k[0],T=k[1],E=un(),I=Object(u.b)();a.a.useEffect((function(){n||(o(!0),I(function(){var e=Object(w.a)(v.a.mark((function e(t){var n,o,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Xt}),e.prev=2,n=new Request("https://fm.ki.lt/api/v1/dataexchange/mappings?api_token=6c3ec4bbb801163e98fec95acf555193fea410ea21270ab5fd3c58f8c264fba1d1df794fb2ee97a24ab5d7de424e3010",{method:"GET",headers:{"Content-Type":"application/json"}}),e.next=6,fetch(n).then();case 6:if(!(o=e.sent).ok){e.next=14;break}return e.next=10,o.json();case 10:a=e.sent,t({type:Qt,mappings:a.mappings}),e.next=15;break;case 14:t({type:Zt});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),t({type:Zt});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}())),y.length!==m.length&&(l(!i),g(y))}),[I,n,y.length,m.length,y,i]);var B=function(){I(Pe())},_=function(e){var t;I((t=e,function(){var e=Object(w.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:$t}),e.prev=2,o=new Request("https://fm.ki.lt/api/v1/dataexchange/mappings?api_token=6c3ec4bbb801163e98fec95acf555193fea410ea21270ab5fd3c58f8c264fba1d1df794fb2ee97a24ab5d7de424e3010",{method:"DELETE",body:JSON.stringify({sessionId:t.session_id}),headers:{"Content-Type":"application/json"}}),e.next=6,fetch(o).then();case 6:e.sent.ok?n({type:en,mapping:t}):n({type:tn}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n({type:tn});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(De.jsx)("div",{className:E.popupbox,children:Object(De.jsxs)("div",{className:E.box,children:[Object(De.jsx)("span",{className:E.closeicon,onClick:B,children:"x"}),Object(De.jsx)("h2",{className:E.header,children:"Map User to Raspberry"}),i&&Object(De.jsx)("span",{}),y&&y.map((function(e){return Object(De.jsx)(dn,{item:e,user:O.find((function(t){return t.id===e.userId})),onDelete:_},y.indexOf(e))})),Object(De.jsx)("div",{children:Object(De.jsxs)(Tt.a,{className:E.formControl,children:[Object(De.jsx)(kt.a,{id:"label",children:"User"}),Object(De.jsx)(Et.a,{id:"demo-simple-select-helper",value:d||"",label:"User",onChange:function(e){h(e.target.value)},children:O.map((function(e,t){return Object(De.jsx)(St.a,{value:e,children:Object(De.jsx)("em",{children:e.email})},t)}))})]})}),Object(De.jsx)(mt.a,{fullWidth:!0,label:"Raspberry ID",name:"raspberryID",variant:"outlined",placeholder:"Raspberry ID",value:S,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){T(e.target.value)}}),Object(De.jsx)(f.a,{className:E.button,onClick:function(){var e,t;""!==S&&I((e=d,t=S,function(){var n=Object(w.a)(v.a.mark((function n(o){var a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o({type:nn}),n.prev=2,a={userId:e.id,raspberryId:t},r=new Request("https://fm.ki.lt/api/v1/dataexchange/mappings?api_token=6c3ec4bbb801163e98fec95acf555193fea410ea21270ab5fd3c58f8c264fba1d1df794fb2ee97a24ab5d7de424e3010",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),n.next=7,fetch(r);case 7:n.sent.ok?o({type:on}):o({type:an}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),o({type:an});case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}())),B()},children:"Submit"})]})})},dn=function(e){var t=e.item,n=e.user,o=e.onDelete,a=un();return Object(De.jsxs)("div",{className:a.boxik,children:[Object(De.jsxs)("div",{children:[n&&Object(De.jsxs)("span",{className:a.columns,children:["User Email: ",n.email]}),Object(De.jsxs)("span",{className:a.columns,children:["User ID: ",t.userId]}),Object(De.jsxs)("span",{className:a.columns,children:["Raspberry ID: ",t.raspberryId]}),Object(De.jsxs)("span",{className:a.columns,children:["Session ID: ",t.session_id]})]}),Object(De.jsx)(f.a,{className:a.deleteButton,onClick:function(){o(t)},children:"X"})]})},bn=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},boxik:{color:"black",background:"white",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px","&:hover":{color:"white",background:"black",borderColor:"black",cursor:"pointer"}},circle:{marginLeft:"5px",width:"25px",height:"25px",webkitBorderRadius:"15px",mozBorderradius:"15px",borderRadius:"15px"},connectionText:{verticalAlign:"center",marginTop:"auto",marginBottom:"auto"},header:{margin:"10px 0px"}}),hn=function(){var e=Object(u.c)((function(e){return e.devices.devices})),t=bn(),n=Object(u.b)();Object(o.useEffect)((function(){n(function(){var e=Object(w.a)(v.a.mark((function e(t){var n,o,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Kt}),e.prev=2,n=new Request("https://fm.ki.lt/api/v1/dataexchange/mappings?api_token=6c3ec4bbb801163e98fec95acf555193fea410ea21270ab5fd3c58f8c264fba1d1df794fb2ee97a24ab5d7de424e3010",{method:"GET",headers:{"Content-Type":"application/json"}}),e.next=6,fetch(n).then();case 6:if(!(o=e.sent).ok){e.next=14;break}return e.next=10,o.json();case 10:a=e.sent,t({type:Yt,devices:a.mappings}),e.next=15;break;case 14:t({type:Vt});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),t({type:Vt});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);return Object(De.jsx)("div",{className:t.popupbox,children:Object(De.jsxs)("div",{className:t.box,children:[Object(De.jsx)("span",{className:t.closeicon,onClick:function(){n(Pe())},children:"x"}),Object(De.jsx)("h2",{className:t.header,children:"Active sessions"}),e&&e.map((function(t){return Object(De.jsx)(xn,{item:t},e.indexOf(t))}))]})})},xn=function(e){var t=e.item,n=bn(),o=Object(u.b)();return Object(De.jsxs)("div",{className:n.boxik,onClick:function(){o(sn(t.session_id))},children:[Object(De.jsxs)("div",{children:["Raspberry ID: ",t.raspberryId]}),Object(De.jsxs)("div",{children:["Session ID: ",""===t.session_id?"N/A":t.session_id]}),Object(De.jsxs)("div",{children:["User ID: ",""===t.userId?"N/A":t.userId]}),Object(De.jsxs)("div",{style:{display:"flex"},children:[Object(De.jsx)("span",{className:n.connectionText,children:"Is User Connected:"}),Object(De.jsx)("div",{className:n.circle,style:{background:t.is_user_connected?"green":"red"}})]}),Object(De.jsxs)("div",{style:{display:"flex"},children:[Object(De.jsx)("span",{className:n.connectionText,children:"Is Raspberry Connected:"}),Object(De.jsx)("div",{className:n.circle,style:{background:t.is_device_connected?"green":"red"}})]}),Object(De.jsxs)("div",{children:["Update at: ",t.updated_at]})]})},fn=n(124),jn=n.n(fn),mn=(n(301),Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},backButton:{height:"35px",color:"white",background:"black",fontSize:"1em",textTransform:"none",borderRadius:"5px",borderColor:"#FFFFFF",borderWidth:"1px",margin:"0px auto 5px auto",borderStyle:"solid","&:hover":{color:"black",background:"white",borderColor:"black"}},box:{minHeight:"500px",position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},boxik:{color:"black",background:"white",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px"},picker:{fontSize:"20px",marginBottom:"5px"},header:{margin:"10px 0px"}})),gn=function(){var e=a.a.useState(new Date((new Date).getTime()-864e5)),t=Object(b.a)(e,2),n=t[0],o=t[1],r=a.a.useState(new Date),c=Object(b.a)(r,2),i=c[0],l=c[1],s=Object(u.c)((function(e){return e.devices.sessionData})),p=mn(),d=Object(u.b)();return Object(De.jsx)("div",{className:p.popupbox,children:Object(De.jsxs)("div",{className:p.box,children:[Object(De.jsx)("span",{className:p.closeicon,onClick:function(){d(Pe())},children:"x"}),Object(De.jsx)(f.a,{className:p.backButton,onClick:function(){d(Ae())},children:"GO BACK"}),Object(De.jsx)("h2",{className:p.header,children:"Session logs"}),Object(De.jsxs)("div",{children:["Pick Start Date:",Object(De.jsx)(jn.a,{className:p.picker,selected:n,onChange:function(e){o(e),void 0!==s&&e<i&&d(sn(s.device_id,e,i))}})]}),Object(De.jsxs)("div",{children:["Pick End Date:",Object(De.jsx)(jn.a,{className:p.picker,selected:i,onChange:function(e){l(e),void 0!==s&&n<e&&d(sn(s.device_id,n,e))}})]}),s&&Object(De.jsxs)("div",{children:[Object(De.jsxs)("div",{children:["Device ID: ",s.device_id]}),Object(De.jsxs)("div",{children:["Start: ",s.period.start]}),Object(De.jsxs)("div",{children:["End: ",s.period.end]})]}),s&&s.sessions.map((function(e){return Object(De.jsx)(On,{item:e},s.sessions.indexOf(e))}))]})})},On=function(e){var t=e.item;return Object(De.jsxs)("div",{children:[t&&Object(De.jsxs)("div",{children:[Object(De.jsxs)("div",{children:["Session ID: ",t.session_id]}),Object(De.jsxs)("div",{children:["User ID: ",t.user_id]})]}),t&&t.data.map((function(e){return Object(De.jsx)(vn,{dataItem:e},t.data.indexOf(e))}))]})},vn=function(e){var t=e.dataItem,n=mn();return Object(De.jsxs)("div",{className:n.boxik,children:[Object(De.jsxs)("div",{children:["Table ID: ",t.tableId]}),Object(De.jsxs)("div",{children:["Cells Row ID: ",t.cellsRowId]}),Object(De.jsxs)("div",{children:["Row Index: ",t.rowIndex]}),Object(De.jsxs)("div",{children:["Column Index: ",t.columnIndex]}),Object(De.jsxs)("div",{children:["Created at: ",t.created_at]})]})},wn=Object(h.a)({popupbox:{position:"absolute",background:"#00000050",width:"100%",height:"100vh",top:0,left:0},box:{position:"relative",width:"70%",margin:"0 auto",height:"auto",maxHeight:"70vh",marginTop:"calc(15vh - 20px)",background:"white",borderRadius:"4px",padding:"20px",border:"1px solid black",overflow:"auto"},boxik:{display:"flex",color:"black",background:"white",fontSize:"1em",whiteSpace:"wrap",textTransform:"none",borderRadius:"5px",borderColor:"black",borderWidth:"1px",margin:"10px 10px",borderStyle:"solid",padding:"5px"},columns:{display:"flex"},closeicon:{content:"x",cursor:"pointer",position:"fixed",right:"calc(15% - 12.5px)",top:"calc(15vh - 32.5px)",background:"white",width:"25px",height:"25px",borderRadius:"50%",lineHeight:"20px",textAlign:"center",border:"1px solid black",fontSize:"20px",fontWeight:"bold"},makeEmptyButton:{border:"1px solid black",color:"white",background:"blue",marginTop:"10px",marginRight:"20px"},button:{border:"1px solid black",background:"green",color:"white",marginTop:"10px"},formControl:{display:"flex",marginBottom:"10px",minWidth:200},header:{margin:"10px 0px"},deleteButton:{marginTop:"10px",background:"red",color:"white",padding:"10px 20px",fontWeight:"bold",marginLeft:"auto",fontSize:"20px","&:hover":{background:"black"}}}),yn=function(){var e=a.a.useState(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],r=a.a.useState(void 0),c=Object(b.a)(r,2),i=c[0],l=c[1],s=a.a.useState([]),p=Object(b.a)(s,2),d=p[0],h=p[1],x=Object(u.c)((function(e){return e.user.users})),f=Object(u.c)((function(e){return e.popups.userTables})),j=wn(),m=Object(u.b)();a.a.useEffect((function(){f.length!==d.length&&(o(!n),h(f))}),[f.length,d.length,f,n]);var O=function(e){var t,n;m((t=e.id,n=i.id,function(){var e=Object(w.a)(v.a.mark((function e(o){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{L.collection("users").doc(n).collection("tables").doc(t).delete(),o({type:_e,tableId:t})}catch(a){o({type:"popups/DELETE_USER_TABLE_FAILED"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(De.jsx)("div",{className:j.popupbox,children:Object(De.jsxs)("div",{className:j.box,children:[Object(De.jsx)("span",{className:j.closeicon,onClick:function(){m(Pe())},children:"x"}),Object(De.jsx)("h2",{className:j.header,children:"Delete User Tables"}),n&&Object(De.jsx)("span",{}),Object(De.jsx)("div",{children:Object(De.jsxs)(Tt.a,{className:j.formControl,children:[Object(De.jsx)(kt.a,{id:"label",children:"User"}),Object(De.jsx)(Et.a,{id:"demo-simple-select-helper",value:i||"",label:"User",onChange:function(e){var t;l(e.target.value),m((t=e.target.value,function(){var e=Object(w.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"popups/GET_USER_TABLES"});try{L.collection("users").doc(t.id).collection("tables").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),n({type:Be,data:t})}))}catch(o){n({type:"popups/GET_USER_TABLES_FAILED"})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:x.map((function(e,t){return Object(De.jsx)(St.a,{value:e,children:Object(De.jsx)("em",{children:e.email})},t)}))})]})}),f&&f.map((function(e){return Object(De.jsx)(Cn,{item:e,user:x.find((function(t){return t.id===e.userId})),onDelete:O},f.indexOf(e))}))]})})},Cn=function(e){var t=e.item,n=e.onDelete,o=wn();return Object(De.jsxs)("div",{className:o.boxik,children:[Object(De.jsxs)("div",{children:[Object(De.jsxs)("span",{className:o.columns,children:["Table Name: ",t.name]}),Object(De.jsxs)("span",{className:o.columns,children:["Table ID: ",t.id]}),Object(De.jsxs)("span",{className:o.columns,children:["Table Order: ",t.tableOrder]})]}),Object(De.jsx)(f.a,{className:o.deleteButton,onClick:function(){n(t)},children:"X"})]})},kn=function(){var e=Object(u.c)((function(e){return e.tables.selectedTable})),t=Object(u.c)((function(e){return e.popups.createTablePopupOpen})),n=Object(u.c)((function(e){return e.popups.actionPopupOpen})),a=Object(u.c)((function(e){return e.popups.emptyCellPopupOpen})),r=Object(u.c)((function(e){return e.popups.infoPopupOpen})),c=Object(u.c)((function(e){return e.popups.noTypePopupOpen})),i=Object(u.c)((function(e){return e.popups.imagePopupOpen})),s=Object(u.c)((function(e){return e.popups.formatCellsPopupOpen})),b=Object(u.c)((function(e){return e.popups.addToUserPopupOpen})),h=Object(u.c)((function(e){return e.popups.raspberryPopupOpen})),x=Object(u.c)((function(e){return e.popups.devicesPopupOpen})),f=Object(u.c)((function(e){return e.popups.sessionLogsPopupOpen})),j=Object(u.c)((function(e){return e.popups.userTablesPopupOpen})),m=Object(u.c)((function(e){return e.user.user})),g=Object(l.f)();return f||x||t||n||r||i||a||c||s||b||h||j?(window.scrollTo(0,0),Object(d.a)(document)):Object(d.b)(document),Object(o.useEffect)((function(){void 0!==m&&"admin"===m.role||g.push("/"),window.scrollTo(0,0)}),[m,g]),Object(De.jsxs)(p.a,{style:{padding:"10px",width:"100%",display:"inline-flex",flexDirection:"row",maxWidth:"1400px"},children:[Object(De.jsx)(Ye,{}),void 0===e?Object(De.jsx)("h2",{style:{flex:1,textAlign:"center"},children:"Please select a table"}):Object(De.jsx)(jt,{table:e}),t&&Object(De.jsx)(wt,{}),a&&Object(De.jsx)(Ft,{}),n&&Object(De.jsx)(Bt,{}),r&&Object(De.jsx)(Ut,{}),c&&Object(De.jsx)(Rt,{}),i&&Object(De.jsx)(Gt,{}),s&&Object(De.jsx)(zt,{}),b&&Object(De.jsx)(Jt,{}),h&&Object(De.jsx)(pn,{}),x&&Object(De.jsx)(hn,{}),f&&Object(De.jsx)(gn,{}),j&&Object(De.jsx)(yn,{})]})},Sn=n(399),Tn=n(393),En=n(164),In=n.n(En),Bn=Object(h.a)((function(e){return{close:{padding:e.spacing(.5)}}})),_n=function(){var e=Bn(),t=Object(u.c)((function(e){return e.snackbar.open})),n=Object(u.c)((function(e){return e.snackbar.message})),o=Object(u.b)();if(!t)return null;var a=function(){o(function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Lt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(De.jsx)(Sn.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:t,autoHideDuration:5e3,onClose:a,message:Object(De.jsx)("span",{children:n}),action:[Object(De.jsx)(Tn.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:a,children:Object(De.jsx)(In.a,{})},"close")]})},Rn=n(355),Nn=Object(h.a)({title:{margin:"10px",fontSize:"28px",fontWeight:"bold"},container:{background:"white",borderRadius:"10px",maxWidth:"500px",alignContent:"center",padding:"10px",display:"flex",marginTop:"30px",marginLeft:"auto",marginRight:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center"},button:{margin:"10px",minWidth:"200px",background:"green",fontWeight:"bold",color:"white","&:hover":{background:"black"}}}),An=function(){var e=Object(o.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),c=Object(b.a)(r,2),i=c[0],s=c[1],p=Object(u.c)((function(e){return e.user.user})),d=Nn(),h=Object(u.b)(),j=Object(l.f)();Object(o.useEffect)((function(){void 0!==p&&j.push("/home")}),[p,j]);return Object(De.jsxs)(x.a,{className:d.container,children:[Object(De.jsx)(Rn.a,{className:d.title,children:"Sign In"}),Object(De.jsx)(mt.a,{required:!0,fullWidth:!0,name:"email",variant:"outlined",placeholder:"Email",value:n,rows:1,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){a(e.target.value)}}),Object(De.jsx)(mt.a,{required:!0,fullWidth:!0,name:"password",variant:"outlined",placeholder:"Password",value:i,type:"password",rows:1,style:{marginBottom:"10px",marginTop:"10px"},onChange:function(e){s(e.target.value)}}),Object(De.jsx)(f.a,{className:d.button,onClick:function(){h(function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Fe});try{D.signInWithEmailAndPassword(e.email,e.password).then((function(e){L.collection("users").doc(e.user.uid).get().then((function(e){var t=e.data();"admin"===t.role?n({type:He,user:t}):n({type:Ge})}))}))}catch(o){n({type:Ge})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:n,password:i}))},children:"Submit"})]})};var Ln=function(){return Object(De.jsxs)(i.a,{children:[Object(De.jsx)(s.a,{}),Object(De.jsx)("div",{style:{minHeight:"100vh",width:"100%",margin:"0px"},children:Object(De.jsxs)(l.c,{children:[Object(De.jsx)(l.a,{exact:!0,path:"/home",component:kn}),Object(De.jsx)(l.a,{path:"/",component:An})]})}),Object(De.jsx)(_n,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pn=n(31),Dn=n(126),Un=n(165),Wn=n.n(Un),Fn={open:!1,message:""};var Hn={tables:[],selectedTable:void 0,tableJustCreated:!1,bigImage:void 0,bigImageCell:void 0,error:void 0};var Gn={createTablePopupOpen:!1,sessionLogsPopupOpen:!1,devicesPopupOpen:!1,raspberryPopupOpen:!1,actionPopupOpen:!1,infoPopupOpen:!1,noTypePopupOpen:!1,emptyCellPopupOpen:!1,imagePopupOpen:!1,formatCellsPopupOpen:!1,addToUserPopupOpen:!1,userTablesPopupOpen:!1,cell:void 0,cellsRow:void 0,cellFile:void 0,cellNameFile:void 0,cellImageFile:void 0,cellToUpdate:void 0,cellToUpdateCustomCells:void 0,letsUpdate:!1,cellsRowsToDuplicate:void 0,userTables:[]};var Mn={cellsRows:[],selectedCells:void 0,error:void 0,letsUpdate:!1,isSelecting:!1};var zn={user:void 0,users:[],error:!1};var qn={devices:[],mappings:[],sessionData:void 0};var Jn=Object(Pn.c)({snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case At:return Object(g.a)(Object(g.a)({},e),{},{open:!0,message:t.message});case Lt:return Object(g.a)(Object(g.a)({},e),{},{open:!1,message:""});default:return e}},tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case N:return Object(g.a)(Object(g.a)({},e),{},{bigImage:void 0,bigImageCell:void 0,error:void 0});case R:return Object(g.a)(Object(g.a)({},e),{},{tableJustCreated:!1});case C:return Object(g.a)(Object(g.a)({},e),{},{tables:t.tables});case k:return Object(g.a)(Object(g.a)({},e),{},{error:!0});case S:var n=e.tables;return n.push(t.table),Object(g.a)(Object(g.a)({},e),{},{tableJustCreated:!0,selectedTable:t.table,tables:n});case _:return Object(g.a)(Object(g.a)({},e),{},{bigImage:t.image,bigImageCell:t.cell});case B:return Object(g.a)(Object(g.a)({},e),{},{selectedTable:t.table,bigImage:void 0,bigImageCell:void 0});case T:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case E:var o=e.tables;return e.tables.forEach((function(e){e.id===t.id&&o.remove(e)})),Object(g.a)(Object(g.a)({},e),{},{selectedTable:void 0,tables:o});case I:return Object(g.a)(Object(g.a)({},e),{},{error:!0});default:return e}},popups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _e:var n=e.userTables;return e.userTables.forEach((function(e){e.id===t.id&&n.remove(e)})),Object(g.a)(Object(g.a)({},e),{},{userTables:n});case Be:return Object(g.a)(Object(g.a)({},e),{},{userTables:t.data});case Te:return Object(g.a)(Object(g.a)({},e),{},{sessionLogsPopupOpen:!0,devicesPopupOpen:!1});case be:return Object(g.a)(Object(g.a)({},e),{},{sessionLogsPopupOpen:!1,devicesPopupOpen:!0});case de:return Object(g.a)(Object(g.a)({},e),{},{raspberryPopupOpen:!0});case Ce:case ye:return Object(g.a)(Object(g.a)({},e),{},{cellToUpdate:void 0,cellToUpdateCustomCells:void 0,letsUpdate:!e.letsUpdate});case he:return Object(g.a)(Object(g.a)({},e),{},{actionPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ve:return Object(g.a)(Object(g.a)({},e),{},{actionPopupOpen:!1,cellToUpdate:t.cell,cellToUpdateCustomCells:[]});case we:var o=e.cellToUpdateCustomCells;if(o.includes(t.cell)){var a=o.indexOf(t.cell);o.splice(a,1)}else o.push(t.cell);return Object(g.a)(Object(g.a)({},e),{},{cellToUpdateCustomCells:o,letsUpdate:!e.letsUpdate});case Se:return Object(g.a)(Object(g.a)({},e),{},{addToUserPopupOpen:!0});case Oe:return Object(g.a)(Object(g.a)({},e),{},{noTypePopupOpen:!1,actionPopupOpen:t.isAction,infoPopupOpen:!t.isAction});case je:return Object(g.a)(Object(g.a)({},e),{},{noTypePopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ge:return Object(g.a)(Object(g.a)({},e),{},{emptyCellPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case me:return void 0!==t.cell?Object(g.a)(Object(g.a)({},e),{},{imagePopupOpen:!0,emptyCellPopupOpen:!1,cell:t.cell,cellsRow:t.cellsRow}):Object(g.a)(Object(g.a)({},e),{},{imagePopupOpen:!0,emptyCellPopupOpen:!1});case fe:return Object(g.a)(Object(g.a)({},e),{},{infoPopupOpen:!0,cell:t.cell,cellsRow:t.cellsRow});case ke:return Object(g.a)(Object(g.a)({},e),{},{formatCellsPopupOpen:!0});case Ee:return Object(g.a)(Object(g.a)({},e),{},{createTablePopupOpen:!0,cellsRowsToDuplicate:t.cellsRows});case Ie:return Object(g.a)(Object(g.a)({},e),{},{userTablesPopupOpen:!0});case xe:return Object(g.a)(Object(g.a)({},e),{},{sessionLogsPopupOpen:!1,devicesPopupOpen:!1,raspberryPopupOpen:!1,infoPopupOpen:!1,actionPopupOpen:!1,noTypePopupOpen:!1,emptyCellPopupOpen:!1,userTablesPopupOpen:!1,imagePopupOpen:!1,formatCellsPopupOpen:!1,addToUserPopupOpen:!1,createTablePopupOpen:!1,cell:void 0,cellsRow:void 0,cellFile:void 0,cellNameFile:void 0,cellImageFile:void 0,cellsRowsToDuplicate:void 0,userTables:[]});case it:return Object(g.a)(Object(g.a)({},e),{},{cellNameFile:t.file});case lt:return Object(g.a)(Object(g.a)({},e),{},{cellImageFile:t.file});case ct:return Object(g.a)(Object(g.a)({},e),{},{cellFile:t.file});default:return e}},cellsRows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case at:var n,o;return e.cellsRows.forEach((function(a){a.cells.forEach((function(r){r.columnIndex===t.cell.columnIndex&&r.rowIndex===t.cell.rowIndex&&(n=e.cellsRows.indexOf(a),o=a.cells.indexOf(r))}))})),e.cellsRows[n].cells[o]=t.cell,Object(g.a)(Object(g.a)({},e),{},{error:void 0});case ne:return Object(g.a)(Object(g.a)({},e),{},{isSelecting:!0,selectedCells:[]});case re:var a=e.selectedCells;return e.cellsRows[t.rowIndex].cells.forEach((function(e){a.includes(e)?a.splice(a.indexOf(e),1):a.push(e)})),Object(g.a)(Object(g.a)({},e),{},{selectedCells:a,letsUpdate:!e.letsUpdate});case te:var r=[];return e.cellsRows.forEach((function(e){r.push.apply(r,Object(V.a)(e.cells))})),Object(g.a)(Object(g.a)({},e),{},{selectedCells:r,letsUpdate:!e.letsUpdate});case oe:return Object(g.a)(Object(g.a)({},e),{},{isSelecting:!1,selectedCells:void 0});case ee:var c=e.selectedCells;return c.includes(t.cell)?c.splice(c.indexOf(t.cell),1):c.push(t.cell),Object(g.a)(Object(g.a)({},e),{},{selectedCells:c,letsUpdate:!e.letsUpdate});case X:return Object(g.a)(Object(g.a)({},e),{},{error:void 0});case Q:return t.data.sort((function(e,t){return e.rowIndex>t.rowIndex?1:-1})),Object(g.a)(Object(g.a)({},e),{},{cellsRows:t.data});case ae:return t.cellsRows.sort((function(e,t){return e.rowIndex>t.rowIndex?1:-1})),Object(g.a)(Object(g.a)({},e),{},{cellsRows:t.cellsRows,selectedCells:void 0,isSelecting:!1});case Z:return Object(g.a)(Object(g.a)({},e),{},{error:!0});case $:return Object(g.a)(Object(g.a)({},e),{},{cellsRows:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Je:case qe:case ze:return Object(g.a)({},e);case Fe:return Object(g.a)(Object(g.a)({},e),{},{error:!1});case He:return Object(g.a)(Object(g.a)({},e),{},{user:t.user});case Ge:return Object(g.a)(Object(g.a)({},e),{},{error:!0});case Me:return Object(g.a)(Object(g.a)({},e),{},{users:t.data});default:return e}},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case rn:return Object(g.a)({},e);case cn:return Object(g.a)(Object(g.a)({},e),{},{sessionData:t.sessionData});case nn:case on:case $t:return Object(g.a)({},e);case en:return Object(g.a)(Object(g.a)({},e),{},{mappings:e.mappings.filter((function(e){return e.id!==t.mapping.id}))});case Xt:return Object(g.a)({},e);case Qt:return Object(g.a)(Object(g.a)({},e),{},{mappings:t.mappings});case Kt:return Object(g.a)({},e);case Yt:return Object(g.a)(Object(g.a)({},e),{},{devices:t.devices});default:return e}}}),Kn=n(166),Yn=n.n(Kn),Vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pn.d,Xn={key:"root",storage:Wn.a,whitelist:["user"]},Qn=Object(Dn.a)(Xn,Jn),Zn=Object(Pn.e)(Qn,Object(Pn.d)(Object(Pn.a)(Yn.a),Vn())),$n=Object(Dn.b)(Zn),eo=n(167);c.a.render(Object(De.jsx)(u.a,{store:Zn,children:Object(De.jsx)(eo.a,{loading:null,persistor:$n,children:Object(De.jsx)(Ln,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[347,1,2]]]);
//# sourceMappingURL=main.2d214507.chunk.js.map